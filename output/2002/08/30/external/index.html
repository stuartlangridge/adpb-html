<!DOCTYPE html>
<html lang="en">
<head>
		<title>as days pass by &mdash; External link icons the CSS way</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="profile" href="http://gmpg.org/xfn/11" />
		<link href="https://fonts.googleapis.com/css?display=swap&family=Averia+Serif+Libre|Enriqueta:400,700" rel="stylesheet">
		<meta name="monetization" content="$pay.stronghold.co/1a198b49b9914f84e218d360b725bca1fd1">
		<meta name="Description" content="Stuart Langridge of Kryogenix Consulting, for consultancy and custom development on the web and devices">
        <meta property="og:title" content="as days pass by &mdash; External link icons the CSS way">
        <meta property="og:type" content="website">
        <meta property="og:site_name" content="as days pass by">
        <meta property="og:description" content="A post by Stuart Langridge (sil)">
        <meta property="og:image" content="https://www.kryogenix.org/days/2002/08/30/external/index.html.og_image.png">
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:site" content="@sil">
        <meta name="twitter:image" content="https://www.kryogenix.org/days/2002/08/30/external/index.html.og_image.png">
		<link rel="stylesheet" type="text/css" href="https://www.kryogenix.org/days/theme/css/style.css" />
		<link rel="stylesheet" type="text/css" href="https://www.kryogenix.org/days/theme/css/simple-footnotes.css" />
		<link rel="icon" type="image/png" href="/favicon.png" />
		<style type="text/css">
			body.custom-background {
				background: url(https://www.kryogenix.org/days/theme/handmadepaper.png); /* thank you subtlepatterns! */
			}
		</style>
		<link rel="alternate" type="application/rss+xml"
			title="as days pass by"
			href="https://www.kryogenix.org/days/feed" /> 
		<!--[if lte IE 8]><script src="https://www.kryogenix.org/days/theme/js/html5shiv.js"></script><![endif]-->
		<link rel="webmention" href="https://webmention.herokuapp.com/api/webmention" />
		<link rel="feed" href="https://www.kryogenix.org/days/archives/"> 
		<script src="https://cdn.ravenjs.com/3.4.1/raven.min.js"></script>
		<script>Raven.config('https://fc8cd4c9637043f3b385d9daa8dbe367@app.getsentry.com/91852').install()</script>
</head>

<body class="home blog custom-background single-author" >
	<div id="container">
		<div id="header">
				<p>A blog by <a href="https://www.kryogenix.org/">Stuart Langridge</a></p>
				<h1 id="site-title"><a href="https://www.kryogenix.org/days">as days pass by</a></h1>
<h2 id="site-description">scratched tallies on the prison wall</h2>		</div><!-- /#banner -->
		
		<div id="menu">
			<div class="menu-navigation-container">
				<ul id="menu-navigation" class="menu">
						<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/">Kryogenix Consulting</a></li>
						<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/days/archives">All posts, ever</a></li>
						<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/code">Code</a></li>

				</ul>
			</div> <!--/#menu-navigation-container-->
		</div><!-- /#menu -->
		
		<div class="page-title">
		</div>
	
		<div id="contents">

<div class="post type-post status-publish format-standard hentry category-general h-entry" id="post">
	<div class="entry-meta">
		<div class="date"><a href="https://www.kryogenix.org/days/2002/08/30/external/"><time 
			class="dt-published" datetime="2002-08-30T11:00:00+01:00">Aug 30 2002</time></a>
			<span class="byline h-card">By <a class="p-author" href="https://www.kryogenix.org/days/"><img src="https://kryogenix.org/images/hackergotchi-simpler.png" class="u-photo" alt=""> <span class="p-name">sil</span></a></span>
		</div>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a class="u-url p-name" href="https://www.kryogenix.org/days/2002/08/30/external/" title="Permalink to External link icons the CSS way" rel="bookmark">External link icons the <span class="caps">CSS</span>&nbsp;way</a>
		</h2>
		<div class="entry-content e-content">
			<!--timestamp:1030709841.0:-->
<p>A few days ago, Mark Pilgrim wrote up some details on how to
<a href="http://diveintomark.org/archives/2002/08/22.html#automatically_inserting_images_before_offsite_links">automatically insert an image before off-site links</a>, using Movable
Type macros. I don&#8217;t like doing it that way; it&#8217;s possible with pure <span class="caps">CSS</span>
(assuming you have a browser that supports <span class="caps">CSS3</span> selectors &#8212; this means
Mozilla, in case you hadn&#8217;t guessed). If you <em>are</em> using Mozilla, you&#8217;ll
see a little world icon (<img alt="(ext)" src="/images/remote.gif">) after each external link. Read on
for a description of how the technique&nbsp;works.</p>
<p>Mark&#8217;s method works by using <span class="caps">MT</span> macros to assign a class of &#8220;offsite&#8221; to
off site links, and then styling those links accordingly. Using <span class="caps">CSS3</span>
selectors, we can style off-site links directly without having to assign
them a class or run any server-side code. Here&#8217;s the code to do it, and
then we&#8217;ll discuss how it&nbsp;works.</p>
<!--category::--><!--author:sil:--><p>
    /* Add an external-link icon to absolute links */

    div.blogbody a[href^=&#8221;http:&#8221;] {
            background: url(/images/remote.gif) right center no-repeat;
            padding-right: 12px;
    }

    div.blogbody a[href^=&#8221;http:&#8221;]:hover {
            background: url(/images/remote_a.gif) right center no-repeat;
    }

    /* &#8230;but not to absolute links in this domain&#8230; */

    div.blogbody a[href^=&#8221;http://www.kryogenix.org&#8221;] {
            background: transparent;
            padding-right: 0px;
    }

    div.blogbody a[href^=&#8221;http://www.kryogenix.org&#8221;]:hover {
            background: transparent;
    }

    /* &#8230;or to the &#8220;google for $postTitle&#8221; link for each entry */

    div.blogbody a[href^=&#8221;http:&#8221;].googlelink {
            background: transparent;
            padding-right: 0px;
    }

    div.blogbody a[href^=&#8221;http:&#8221;].googlelink:hover {
            background: transparent;&nbsp;}

</p>
<p>This all works by using the <span class="caps">CSS3</span> &#8220;starts-with&#8221; selector, <strong>\^=</strong>, on
attributes. Where we have a selector <code>a[href^="http:"]</code>, that means
&#8220;select all <strong>a</strong> tags where the <strong>href</strong> attribute <strong>starts with</strong> the
string <strong>http:</strong>&#8220;. This will select all absolute links, i.e., those that
are not given as a link relative to where the current page is. That&#8217;s
our first selector: it says &#8220;add this background image and a bit of
right padding to all absolute links&#8221;. (Note that the technique of adding
a little bit of padding and then putting an icon <em>inside</em> that padding
as a background image, to make it look as though the icon is part of the
flow of the page, is one that I got from <a href="http://www.ericmeyeroncss.com">Eric Meyer on <span class="caps">CSS</span></a>.)</p>
<p>(Ignore the second rule for the&nbsp;moment.)</p>
<p>Now, all outside links are absolute links (because they&#8217;re not on the
same server as the current page), but some internal site links may also
be absolute (for instance, permalinks often are). So our third rule
removes the background and padding we applied above for absolute links
that point to my domain. (You&#8217;ll have to customise this bit for your own&nbsp;domain.)</p>
<p>Ignoring the fourth rule for a little bit, the fifth rule does the same
as the third rule, for absolute links with class &#8220;googlelink&#8221;. This is
because posts here have a &#8220;search Google for the post title&#8221; link, which
is itself a small icon; it looks a bit daft to have a small
representative icon (the magnifying glass) followed up by another small
icon! So this suppresses the &#8220;external link&#8221; indicator for that
particular link (which is defined as class &#8220;googlelink&#8221; in the <span class="caps">MT</span>&nbsp;templates).</p>
<p>Note that flashy people could have defined the third and fifth rules as
one rule, because you can add multiple selectors on a rule; this should&nbsp;work:</p>
<div class="highlight"><pre><span></span><code>div.blogbody a[href^=&quot;http://www.kryogenix.org&quot;], div.blogbody a[href^=&quot;http:&quot;].googlelink {
    etc etc etc
}
</code></pre></div>

<p>but I wanted to take my time over this, because <span class="caps">CSS3</span> selectors aren&#8217;t
all that widely&nbsp;supported.</p>
<p>What about those rules that we ignored, the second, fourth, and sixth?
Well, they apply to the absolute external links in exactly the same way
as rules 1, 3, and 5, but they add the pseudo-class <strong>:hover</strong>. So when
you mouseover one of our external links, these new styles apply. All
this does is switch in a new version of the background image (in this
case, an animated spinning version of the world&nbsp;image).</p>
<p>The images come from Matterform&#8217;s excellent <a href="http://www.matterform.com/index.php?page=/qbullets/index.php">QBullets</a>&nbsp;collection.</p>
<p>So, there you have it. Fortunately, Internet Explorer, which doesn&#8217;t
support <span class="caps">CSS3</span> selectors, doesn&#8217;t partially apply them or anything; our
selectors above just don&#8217;t match anything and hence the view in <span class="caps">IE</span> is
unchanged (you just don&#8217;t get the neat&nbsp;icons).</p>
<p>For those of you who are Mozillaless and remain unclear on what this
should all look like, here&#8217;s a screenshot. See how the &#8220;Show, Don&#8217;t
Sell&#8221; link, which is external, has the icon, whereas the &#8220;more detailed
writeup&#8221; link, which is a link to somewhere else on kryogenix.org, does&nbsp;not.</p>
<p><img alt="How the external link icons look in Mozilla" src="/images/external-link-demo.gif"></p>
		</div> <!--/#entry-content-->
		<ul class="neighbours-links">
		<li><a href="https://www.kryogenix.org/days/2002/08/28/douglas/">Previous post</a></li>
		<li><a href="https://www.kryogenix.org/days/2002/08/30/designers/">Next post</a></li>
		</ul>

		<div class="hireme">
			I'm currently available for hire, to help you plan, architect, and build new systems, and for technical writing
			and articles. You can take a look at <a href="https://kryogenix.org">some projects I've worked on</a> and
			<a href="https://kryogenix.org/books">some of my writing</a>. If you'd like to talk about your upcoming project,
			do <a href="https://kryogenix.org/contact">get in touch.</a>
		</div>
	</div> <!--/#main-->
</div>  <!--/#post-->
<div id="webmentions">
<h4>More in the discussion (powered by <a href="http://indiewebcamp.com/Webmention">webmentions</a>)</h4>
	<ul>
		<li><img src="https://files.mastodon.social/accounts/avatars/000/074/943/original/d743fc4128a05a96.jpeg">
			bkardell responded at
		<a href="https://mastodon.social/@sil/110231539314231052#favorited-by-74943">mastodon.social</a>
		<span class="wm-summary"></span></li>
	</ul>
<form id="wmform" method="POST" action="https://webmention.herokuapp.com/api/webmention">
	<label>Did you link to this post? Enter your page's URL:
	<input type="url" name="source"></label>
	<input type="hidden" name="target" value="https://www.kryogenix.org/days/2002/08/30/external/">
	<input type="submit" value="Add link">
</form>
<script src="https://www.kryogenix.org/days/theme/live-webmentions-cors.js"></script>
</div>

<p id="oldcomments"></p>
<script>
var aurl = '2002/08/30/external/';
var parts = aurl.split('/');
if (parts[parts.length-1] === "") { parts = parts.slice(0, parts.length-1); }
var tooNewForOldComments = false;
if (parts[0].match(/^[0-9]+$/)) {
	var asnum = parseInt(parts[0], 10);
	if (!isNaN(asnum) && asnum > 2014) {
		tooNewForOldComments = true;
	}
}
if (!tooNewForOldComments) {
	var comurl = "/oldcomments/" + parts.join("-") + ".html";
	var x = new XMLHttpRequest();
	x.open("HEAD", comurl, true);
	x.onreadystatechange = function() {
		if (x.readyState == 4) {
			if (x.status == 200) {
				document.getElementById("oldcomments").innerHTML = '<a href="' + comurl + '">See pre-2014 comments on this post</a>';
			}
		}
	};
	x.send();
}
</script>
<script type="module">
/* jslint esversion: 11 */
try {
	const resp = await fetch("/adpb-popular.json");
	const vals = await resp.json();
	let popular = vals[location.pathname];
	if (!popular && location.pathname.endsWith("/")) {
		popular = vals[location.pathname.replace(/\/$/, "")];
	}
	if (popular && popular.recent_idx != null) {
		let a = document.createElement("a");
		let p = document.createElement("p");
		p.className = "trending";
		a.href = "/adpb-popular.html";
		a.append(`#${popular.recent_idx + 1} in Trending`);
		p.append(a);
		const ec = document.querySelector("div.entry-content");
		ec.insertBefore(p, ec.firstChild);
	}
} catch(e) {
	console.error("Failed to fetch popular list", e);
}
</script>
<script src="https://www.kryogenix.org/days/theme/unrot-redirect.js"></script>

		</div>
		
		<div id="footer">
			<p>Powered by <a href="http://pelican.readthedocs.org">Pelican</a>, theme by <a href="http://bunnyman.info">tBunnyMan</a>.</p>
			<script src="https://the-claw-webring-widget.netlify.app/the-claw-webring-widget.mjs" type="module"></script>
			<the-claw-webring-widget />
			<!-- Global site tag (gtag.js) - Google Analytics. Cookie set to be a session cookie, not permanent, for privacy
			https://developers.google.com/analytics/devguides/collection/gtagjs/cookies-user-id#cookie_expiration -->
			<script async src="https://www.googletagmanager.com/gtag/js?id=UA-331575-1"></script>
			<script>
  				window.dataLayer = window.dataLayer || [];
  				function gtag(){dataLayer.push(arguments);}
  				gtag('js', new Date());
  				gtag('config', 'UA-331575-1', {cookie_expires: 0});
			</script>
		</div><!-- /#footer -->
	</div><!-- /#container -->




<div id="loadtimer"></div>
<script>
window.onload = function(){
    setTimeout(function(){
      window.performance = window.performance || 
window.mozPerformance || window.msPerformance || 
window.webkitPerformance || {};
      var t = performance.timing || {};
      if (!t) {
        
        return;
      }
      var start = t.navigationStart,
          end = t.loadEventEnd
          loadTime = (end - start) / 1000;
      var copy = document.getElementById('loadtimer');
      copy.innerHTML += "This page loaded in " + loadTime + " seconds.";
    }, 0); 
}

</script>
</body> </html>