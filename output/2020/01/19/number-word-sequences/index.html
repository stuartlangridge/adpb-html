<!DOCTYPE html>
<html lang="en">
<head>
		<title>as days pass by &mdash; Number wordÂ sequences</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="profile" href="http://gmpg.org/xfn/11" />
		<link href="https://fonts.googleapis.com/css?display=swap&family=Averia+Serif+Libre|Enriqueta:400,700" rel="stylesheet">
		<meta name="monetization" content="$pay.stronghold.co/1a198b49b9914f84e218d360b725bca1fd1">
		<meta name="Description" content="Stuart Langridge of Kryogenix Consulting, for consultancy and custom development on the web and devices">
		<link rel="stylesheet" type="text/css" href="https://www.kryogenix.org/days/theme/css/style.css" />
		<link rel="stylesheet" type="text/css" href="https://www.kryogenix.org/days/theme/css/simple-footnotes.css" />
		<link rel="icon" type="image/png" href="/favicon.png" />
		<style type="text/css">
			body.custom-background {
				background: url(https://www.kryogenix.org/days/theme/handmadepaper.png); /* thank you subtlepatterns! */
			}
		</style>
		<link rel="alternate" type="application/rss+xml"
			title="as days pass by"
			href="https://www.kryogenix.org/days/feed" /> 
		<!--[if lte IE 8]><script src="https://www.kryogenix.org/days/theme/js/html5shiv.js"></script><![endif]-->
		<link rel="webmention" href="https://webmention.herokuapp.com/api/webmention" />
		<link rel="feed" href="https://www.kryogenix.org/days/archives/"> 
		<script src="https://cdn.ravenjs.com/3.4.1/raven.min.js"></script>
		<script>Raven.config('https://fc8cd4c9637043f3b385d9daa8dbe367@app.getsentry.com/91852').install()</script>
</head>

<body class="home blog custom-background single-author" >
	<div id="container">
		<div id="header">
				<p>A blog by <a href="https://www.kryogenix.org/">Stuart Langridge</a></p>
				<h1 id="site-title"><a href="https://www.kryogenix.org/days">as days pass by</a></h1>
<h2 id="site-description">scratched tallies on the prison wall</h2>		</div><!-- /#banner -->
		
		<div id="menu">
			<div class="menu-navigation-container">
				<ul id="menu-navigation" class="menu">
						<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/">Kryogenix Consulting</a></li>
						<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/days/archives">All posts, ever</a></li>
						<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/code">Code</a></li>

				</ul>
			</div> <!--/#menu-navigation-container-->
		</div><!-- /#menu -->
		
		<div class="page-title">
		</div>
	
		<div id="contents">

<div class="post type-post status-publish format-standard hentry category-general h-entry" id="post">
	<div class="entry-meta">
		<div class="date"><a href="https://www.kryogenix.org/days/2020/01/19/number-word-sequences/"><time 
			class="dt-published" datetime="2020-01-19T22:02:00+00:00">Jan 19 2020</time></a>
			<span class="byline h-card">By <a class="p-author" href="https://www.kryogenix.org/days/"><img src="https://kryogenix.org/images/hackergotchi-simpler.png" class="u-photo" alt=""> <span class="p-name">sil</span></a></span>
		</div>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a class="u-url p-name" href="https://www.kryogenix.org/days/2020/01/19/number-word-sequences/" title="Permalink to Number wordÂ sequences" rel="bookmark">Number word&nbsp;sequences</a>
		</h2>
		<div class="entry-content e-content">
			<p>I was idly musing about number sequences, and the <a href="https://en.wikipedia.org/wiki/Lychrel_number">Lychrel algorithm</a>. If you donâ€™t know about this, thereâ€™s a good <a href="https://www.youtube.com/watch?v=bN8PE3eljdA">Numberphile video</a> on it: basically, take any number, reverse it, add the two, and if you get a palindrome stop, and if you donâ€™t, keep doing it. So start with, say, <code>57</code>, reverse to get <code>75</code>, add them to get <code>57+75=132</code>, which isnâ€™t a palindrome, so do it again; reverse <code>132</code> to get <code>231</code>, add to get <code>132+231=363</code>, and thatâ€™s a palindrome, so stop. There are a bunch of interesting questions that can be asked about this process (which James Grime goes into in the video), among which are: does this always terminate? Whatâ€™s the longest chain before termination? And so on. <code>196</code> famously hasnâ€™t terminated so far and itâ€™s been tried for several billionÂ iterations.</p>
<p>Anyway, I was thinking about another such iterative process. Take a number, express it in words, then add up the values of all the letters in the words, and do it again. So <code>1</code> becomes <code>ONE</code>, and <code>ONE</code> is <code>15, 14, 5</code> (<code>O</code> is the fifteenth letter of the alphabet, <code>N</code> the fourteenth, and so on), so we add <code>15+14+5</code> to get <code>34</code>, which becomes <code>THIRTY FOUR</code>, and so on. (We skip spaces and dashes; just theÂ letters.)</p>
<p>Take a complete example: letâ€™s start withÂ 4.</p>
<ul>
<li><code>4</code> -&gt; <code>FOUR</code> -&gt; <code>6+15+21+18 = 60</code></li>
<li><code>60</code> -&gt; <code>SIXTY</code> -&gt; <code>19+9+24+20+25 = 97</code></li>
<li><code>97</code> -&gt; <code>NINETY-SEVEN</code> -&gt; <code>14+9+14+5+20+25+19+5+22+5+14 = 152</code></li>
<li><code>152</code> -&gt; <code>ONE HUNDRED AND FIFTY-TWO</code> -&gt; <code>15+14+5+8+21+14+4+18+5+4+1+14+4+6+9+6+20+25+20+23+15 = 251</code></li>
<li><code>251</code> -&gt; <code>TWO HUNDRED AND FIFTY-ONE</code> -&gt; <code>20+23+15+8+21+14+4+18+5+4+1+14+4+6+9+6+20+25+15+14+5 = 251</code></li>
</ul>
<p>and <code>251</code> is a <em>fixed point</em>: it becomes itself. So we stop there, because weâ€™re now in an infiniteÂ loop.</p>
<p><img src="/images/numwords_4_en.png" alt="A graph of this iterative process, starting at 4"></p>
<p>Do all numbers eventually go into a loop? Do all numbers go into the <em>same</em> loop â€” that is, do they all end up at <code>251</code>?</p>
<p>Itâ€™s hard to tell. (Well, itâ€™s hard to tell for me. Some of you may see some easy way to prove this, in which case do let me know.) Me being me, I wrote a little Python programme to test this out (helped immeasurably by the Python 3 <a href="https://pypi.org/project/num2words/">num2words</a> library). As I discovered before, if youâ€™re trying to pick out patterns in a big graph of numbers which all link to one another, itâ€™s <a href="https://www.kryogenix.org/days/2018/03/25/squares-and-prettier-graphs/">a lot easier to have graphviz draw you pretty pictures</a>, so thatâ€™s what IÂ did.</p>
<p>Iâ€™ve run numbers up to 5000 or so (after that I got a bit bored waiting for answers; itâ€™s not recreational mathematics if I have to wait around, itâ€™s a job for which Iâ€™m not getting paid). And it looks like numbers settle out into a tiny island which ends up at <code>251</code>, a little island which ends up at <code>285</code>, and a massive island which ends up at <code>259</code>, all of which become themselves<sup id="sf-number-word-sequences-1-back"><a href="#sf-number-word-sequences-1" class="simple-footnote" title="Well, 285 is part of a 285, 267, 313, 248, 284, 285 loop.">1</a></sup>. (You can see <a href="https://www.kryogenix.org/images/numwords_en.png">an image of the first 500 numbers</a> and how they end up; extending that up to 5000 just makes the islands larger, it doesnâ€™t create new islandsâ€¦ and the diagrams either get rather unwieldy or they get <em>really</em> big and theyâ€™re hard to display.<sup id="sf-number-word-sequences-2-back"><a href="#sf-number-word-sequences-2" class="simple-footnote" title="This is also why the graphs use neato, which is much less pleasing a layout for this than the â€œtreeâ€-style layout of dot, because the dot images end up being 32,767 pixels across and all is aÂ disaster.">2</a></sup>)</p>
<p><a href="/images/numwords_en.png"><img src="/images/numwords_small_en.png" alt="A graph of the first 500 numbers and their connections"></a></p>
<p>I have a theory that (a) yes all numbers end up in a fixed point and (b) there probably arenâ€™t any more fixed points. Warning: dubious mathematical assertions lieÂ ahead.</p>
<p>There canâ€™t be that many numbers that encode to themselves. This is both because Iâ€™ve run it up to 5000 and there arenâ€™t, and because it just seems kinda unlikely and coincidental. So, we assume that the fixed points we have are most or all of the fixed points available. Now, every number has to end up <em>somewhere</em>; the process canâ€™t just keep going forever. So, if you keep generating numbers, youâ€™re pretty likely at some point to hit a number youâ€™ve already hit, which ends up at one of the fixed points. And finally, the numbers-to-words process doesnâ€™t grow as fast as actual numbers do. Once youâ€™ve got over a certain limit, youâ€™ll pretty much always end up generating a number smaller than oneself in the next iteration. The reason I think this is that adding more to numbers doesnâ€™t make their word lengths all that much longer. Take, for example, the longest number (in words) up to 100,000, which is (among others) <code>73,373</code>, or <code>seventy-three thousand, three hundred and seventy-three</code>. This is <code>47</code> characters long. Even if they were all <code>Z</code>, which they arenâ€™t, itâ€™d generate <code>47Ã—26=1222</code>, which is way less than <code>73,373</code>. And adding lots more doesnâ€™t help much: if we add a million to that number, we put <code>one million</code> on the front of it, which is only another <code>10</code> characters, or a maximum added value of <code>260</code>. Thereâ€™s no actual ceiling â€” numbers in words still grow without limit as the number itself grows â€” but it doesnâ€™t grow anywhere near as fast as the number itself does. So the numbers generally get smaller as they iterate, until they get down below four hundred or soâ€¦ and all of those numbers terminate in one of the three fixed points already outlined. So I think that all numbers will terminateÂ thus.</p>
<p>The obvious flaw with this argument is that it ought to apply to the reverse-and-add process above too and it doesnâ€™t for 196 (and some others). So itâ€™s possible that my approach will also make a Lychrel-ish number that may not terminate, but I donâ€™t think it will; the argument above seemsÂ compelling.</p>
<p>You might be thinking: bloody English imperialist! What about <em>les nombres</em>, eh? Or <em>die Zahlen</em>? Did you check those? <em>Mais oui</em>, I checked (nice one <code>num2words</code> for supporting a zillion languages!) Same thing. There are different fixed points (<del>French has one big island until <code>177</code>, a very small island to <code>232</code>, a <code>258, 436</code> pair, and <code>222</code> which encodes to itself and nothing else encodes to it, for example.</del><ins>Not quite: see the update at the end. Nothing changes about the maths, though.</ins> Images of <a href="https://www.kryogenix.org/images/numwords_fr.png">French</a> and <a href="https://www.kryogenix.org/images/numwords_de.png">German</a> are available, and you can of course use <a href="https://www.kryogenix.org/code/numwords.py">the Python 3 script</a> to make your own; run it as <code>python3 numwords.py no</code> for Norwegian, etc.) You may also be thinking â€œwhat about American English, eh? <code>101</code> is <code>ONE HUNDRED ONE</code>, not <code>ONE HUNDRED AND ONE</code>.â€ I have not tested this, partially because I think the above argument should still hold for it, partially because <code>num2words</code> doesnâ€™t support it, and partially because thatâ€™s what you get for throwing a bunch of perfectly good tea into the ocean, but I donâ€™t think itâ€™d be hard to verify if someone wants to tryÂ it.</p>
<p>No earth-shattering revelations here, not that it matters anyway because Iâ€™m 43 and you can only win a Fields Medal if youâ€™re under forty, but this was a fun littleÂ diversion.</p>
<p><strong>Update:</strong> Minirop <a href="https://twitter.com/minirop/status/1219191671746940928">pointed out on Twitter</a> that my code wasnâ€™t correctly highlighting the â€œendâ€ of a chain, which indeed it was not. Iâ€™ve poked the code, and the diagrams, to do this better; itâ€™s apparent that both <a href="https://www.kryogenix.org/images/numwords_fr.png">French</a> and <a href="https://www.kryogenix.org/images/numwords_de.png">German</a> have most numbers end up in a fairy large loop, rather than at one specific number. I donâ€™t <em>think</em> this alters my argument for why this is likely to happen for all numbers (because a loop of numbers which all encode to one another is about as rare as a single number which encodes to itself, Iâ€™d guess), but maybe I havenâ€™t thought about itÂ enough!</p><ol class="simple-footnotes"><li id="sf-number-word-sequences-1">Well, 285 is part of a 285, 267, 313, 248, 284, 285 loop. <a href="#sf-number-word-sequences-1-back" class="simple-footnote-back">â†©</a></li><li id="sf-number-word-sequences-2">This is also why the graphs use <code>neato</code>, which is much less pleasing a layout for this than the â€œtreeâ€-style layout of <code>dot</code>, because the <code>dot</code> images end up being 32,767 pixels across and all is aÂ disaster. <a href="#sf-number-word-sequences-2-back" class="simple-footnote-back">â†©</a></li></ol>
		</div> <!--/#entry-content-->
		<ul class="neighbours-links">
		<li><a href="https://www.kryogenix.org/days/2020/01/19/the-tiniest-of-python-templating-engines/">Previous post</a></li>
		</ul>
	</div> <!--/#main-->
</div>  <!--/#post-->
<div id="webmentions">
<h4>More in the discussion (powered by <a href="http://indiewebcamp.com/Webmention">webmentions</a>)</h4>
	<ul>
		<li><img src="https://pbs.twimg.com/profile_images/1197957006486908928/iaSWAJBN.jpg">
			Alan Pope ğŸºğŸ§ğŸ±ğŸ‡¬ğŸ‡§ğŸ‡ªğŸ‡º responded at
		<a href="https://twitter.com/popey/status/1219037981509636102">twitter.com</a>
		<span class="wm-summary">			Having a play around with some recreational maths, after being inspired by a @jamesgrime @numberphile video. Convert a number to words; add
</span></li>
		<li><img src="https://pbs.twimg.com/profile_images/1197957006486908928/iaSWAJBN.jpg">
			Alan Pope ğŸº ğŸ§ ğŸ± ğŸ‡¬ğŸ‡§ ğŸ‡ªğŸ‡º responded at
		<a href="https://twitter.com/sil/status/1219033504824152064#favorited-by-12325402">twitter.com</a>
		<span class="wm-summary"></span></li>
		<li><img src="https://pbs.twimg.com/profile_images/1179567156280745985/p25DVKMl.jpg">
			Derek Ardolf responded at
		<a href="https://twitter.com/sil/status/1219033504824152064#favorited-by-2321573773">twitter.com</a>
		<span class="wm-summary"></span></li>
		<li><img src="https://pbs.twimg.com/profile_images/482522689785962497/mW-yutPd.jpeg">
			Rob Ferrer responded at
		<a href="https://twitter.com/sil/status/1219033504824152064#favorited-by-20243318">twitter.com</a>
		<span class="wm-summary"></span></li>
		<li><img src="https://pbs.twimg.com/profile_images/1393049019/meagain.JPG">
			James Grime responded at
		<a href="https://twitter.com/jamesgrime/status/1219189811707371520">twitter.com</a>
		<span class="wm-summary">			That's a lot of fun. I like it.
</span></li>
		<li><img src="https://pbs.twimg.com/profile_images/1393049019/meagain.JPG">
			James Grime responded at
		<a href="https://twitter.com/jamesgrime/status/1219189824671883264">twitter.com</a>
		<span class="wm-summary">			Having a play around with some recreational maths, after being inspired by a @jamesgrime @numberphile video. Convert a number to words; add
</span></li>
		<li><img src="https://pbs.twimg.com/profile_images/55108762/hackergotchi-simpler.png">
			Stuart Langridge responded at
		<a href="https://twitter.com/sil/status/1219190308296175617">twitter.com</a>
		<span class="wm-summary">			Cheers! I had a fun Sunday evening playing around with it :-)
</span></li>
		<li><img src="https://pbs.twimg.com/profile_images/378800000294415763/84460fdea208f22df58719ccd21b14d5.png">
			ğŸ‡«ğŸ‡· minirop ğŸ‡¬ğŸ‡§ responded at
		<a href="https://twitter.com/minirop/status/1219191671746940928">twitter.com</a>
		<span class="wm-summary">			on the French picture, 177 is red but there is an arrow that point outwards and goes to 178 (which doesn't have outwards arrows (not even to itself))
</span></li>
		<li><img src="https://pbs.twimg.com/profile_images/993713384494252034/y1oXlGnk.jpg">
			chris.code(); responded at
		<a href="https://twitter.com/sil/status/1219033504824152064#favorited-by-1085246726">twitter.com</a>
		<span class="wm-summary"></span></li>
		<li><img src="https://pbs.twimg.com/profile_images/1218965742751641600/mJ1jInf5.jpg">
			Snehangshu Bhattacharya responded at
		<a href="https://twitter.com/sil/status/1219033504824152064#favorited-by-1010590194267910144">twitter.com</a>
		<span class="wm-summary"></span></li>
		<li><img src="https://pbs.twimg.com/profile_images/1025075043636834304/f6ovdK3Z.jpg">
			Daniel James ğŸ³ï¸â€ğŸŒˆ ğŸ“š ğŸ“ responded at
		<a href="https://twitter.com/sil/status/1219033504824152064#favorited-by-1001207161647755265">twitter.com</a>
		<span class="wm-summary"></span></li>
		<li><img src="https://pbs.twimg.com/profile_images/1076072013905776640/rF2_PeXQ.jpg">
			Peter Ellis responded at
		<a href="https://twitter.com/sil/status/1219033504824152064#favorited-by-879086245066006528">twitter.com</a>
		<span class="wm-summary"></span></li>
		<li><img src="https://pbs.twimg.com/profile_images/1133092609486798848/gYnxNPYo.png">
			Ğ³Ñ€ÑƒÑÑ‚Ğ½Ğ°Ñ ğŸ•µï¸â€â™€ï¸ Ğ´Ğ¸Ğ½Ğ¾Ğ·Ğ°Ğ²Ñ€Ğ¸Ñ…Ğ° responded at
		<a href="https://twitter.com/sil/status/1219033504824152064#favorited-by-866395767401046016">twitter.com</a>
		<span class="wm-summary"></span></li>
	</ul>
<form id="wmform" method="POST" action="https://webmention.herokuapp.com/api/webmention">
	<label>Did you link to this post? Enter your page's URL:
	<input type="url" name="source"></label>
	<input type="hidden" name="target" value="https://www.kryogenix.org/days/2020/01/19/number-word-sequences/">
	<input type="submit" value="Add link">
</form>
<script src="https://www.kryogenix.org/days/theme/live-webmentions-cors.js"></script>
</div>

<p id="oldcomments"></p>
<script>
var aurl = '2020/01/19/number-word-sequences/';
var parts = aurl.split('/');
if (parts[parts.length-1] === "") { parts = parts.slice(0, parts.length-1); }
var tooNewForOldComments = false;
if (parts[0].match(/^[0-9]+$/)) {
	var asnum = parseInt(parts[0], 10);
	if (!isNaN(asnum) && asnum > 2014) {
		tooNewForOldComments = true;
	}
}
if (!tooNewForOldComments) {
	var comurl = "/oldcomments/" + parts.join("-") + ".html";
	var x = new XMLHttpRequest();
	x.open("HEAD", comurl, true);
	x.onreadystatechange = function() {
		if (x.readyState == 4) {
			if (x.status == 200) {
				document.getElementById("oldcomments").innerHTML = '<a href="' + comurl + '">See pre-2014 comments on this post</a>';
			}
		}
	};
	x.send();
}
</script>

		</div>
		
		<div id="footer">
			<p>Powered by <a href="http://pelican.readthedocs.org">Pelican</a>, theme by <a href="http://bunnyman.info">tBunnyMan</a>.</p>
				<script type="text/javascript">
					var _gaq = _gaq || [];
					_gaq.push(['_setAccount', 'UA-331575-1']);
					_gaq.push(['_trackPageview']);
					(function() {
						var ga = document.createElement('script'); 
						ga.type = 'text/javascript'; ga.async = true;
						ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
						var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
					})();
				</script>
		</div><!-- /#footer -->
	</div><!-- /#container -->




<div id="loadtimer"></div>
<script>
window.onload = function(){
    setTimeout(function(){
      window.performance = window.performance || 
window.mozPerformance || window.msPerformance || 
window.webkitPerformance || {};
      var t = performance.timing || {};
      if (!t) {
        
        return;
      }
      var start = t.navigationStart,
          end = t.loadEventEnd
          loadTime = (end - start) / 1000;
      var copy = document.getElementById('loadtimer');
      copy.innerHTML += "This page loaded in " + loadTime + " seconds.";
    }, 0); 
}

</script>
</body> </html>