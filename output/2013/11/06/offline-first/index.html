<!DOCTYPE html>
<html lang="en">
<head>
		<title>as days pass by &mdash; Offline first</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="profile" href="http://gmpg.org/xfn/11" />
		<meta name="Description" content="Stuart Langridge of Kryogenix Consulting, for consultancy and custom development on the web and devices">
        <meta property="og:title" content="as days pass by &mdash; Offline first">
        <meta property="og:type" content="website">
        <meta property="og:site_name" content="as days pass by">
        <meta property="og:description" content="A post by Stuart Langridge (sil)">
        <meta property="og:image" content="https://www.kryogenix.org/days/2013/11/06/offline-first/index.html.og_image.png">
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:site" content="@sil">
        <meta name="twitter:image" content="https://www.kryogenix.org/days/2013/11/06/offline-first/index.html.og_image.png">
		<link rel="stylesheet" type="text/css" href="../../../../theme/css/adpb.css" />
		<link rel="stylesheet" type="text/css" href="../../../../theme/css/simple-footnotes.css" />
		<link rel="icon" type="image/png" href="/favicon.png" />
		<link rel="alternate" type="application/rss+xml"
			title="as days pass by"
			href="https://www.kryogenix.org/days/feed" /> 
		<meta property="fediverse:creator" content="@sil@mastodon.social" />
		<link rel="webmention" href="https://webmention.herokuapp.com/api/webmention" />
		<link rel="feed" href="https://www.kryogenix.org/days/archives/"> 
</head>

<body class="home blog custom-background single-author" >
		<header>
				<p>A blog by <a href="https://www.kryogenix.org/">Stuart Langridge</a></p>
				<h1 id="site-title"><a href="https://www.kryogenix.org/days">as days pass by</a></h1>
<h2 id="site-description">scratched tallies on the prison wall</h2>		</header><!-- /#banner -->
		
		<nav>
			<ul>
				<li><a href="/">Kryogenix Consulting</a></li>
				<li><a href="/days/archives">All posts, ever</a></li>
				<li><a href="/code">Code</a></li>
			</ul>
		</nav>
		
		<div class="page-title">
		</div>
	
		<div id="contents">

<div class="post type-post status-publish format-standard hentry category-general h-entry" id="post">
	<div class="entry-meta">
		<div class="date"><a href="https://www.kryogenix.org/days/2013/11/06/offline-first/"><time 
			class="dt-published" datetime="2013-11-06T15:25:00+00:00">Nov 06 2013</time></a>
		</div>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a class="u-url p-name" href="https://www.kryogenix.org/days/2013/11/06/offline-first/">Offline first</a>
		</h2>
		<div class="entry-content e-content">
			<p><a href="http://offlinefirst.org/">offlinefirst.org</a>. Absolutely.</p>
<blockquote>
<p>We live in a disconnected &amp; battery powered world.</p>
</blockquote>
<p>Build apps which assume that any server they need might not be there.
Mobile apps which don't start being unreliable when you've got dodgy
connectivity. Save everything locally and then sync it.</p>
<p>The key word here is "sync". To build a proper modern app, which not
only copes with inconsistent connectivity but doesn't bother the user
about it, you have to save your data locally and then sync it up to the
backing store, wherever that is (whether it's a server provided by the
app maker, or your Google account, or <a href="http://remotestorage.io/">remoteStorage</a>, or some
personal thing like a PogoPlug). This means that the backing store, and
your app, has to be able to cope with inconsistent and conflicting data.
This is a hard problem to deal with; when I was working on Ubuntu One,
we spent a lot of time with it. So... don't try and roll your own
solution. Really. Use something that's already out there to handle data
with syncing. <a href="http://hood.ie/">Hood.ie</a> can do this for web apps you build, or use
Pouch; Parse or Firebase are similar public commercial services. The
Ubuntu SDK has U1DB. Apple stuff has iCloud. Android has the <a href="http://developer.android.com/training/cloudsync/index.html">backup
API</a>. Building an app for offline first means dealing with
inconsistent data, but there's no reason to not have an existing
framework take on some of that load for you.</p>
<p>The offlinefirst people are starting a conversation about the user
experience here. After a few years of working on this, the technology is
<em>mostly</em> worked out (as you'll see above), but we've hardly brushed the
surface of how to present this to the people using your apps. In my
heart I believe that there should <em>be</em> no presentation of it: that your
app should just look and work exactly the same as it does in a world
with infinite always-on bandwidth. That the "user experience" of offline
first is that people like your app more not because it's better, but
because it's not worse: because it never breaks even when you're in a
train tunnel. It's not something you'd notice, unless you sat down and
thought about it, in exactly the same way that no-one gives out credit
because your app doesn't crash much, unless all its competitors crash
more. And I fear that exposing this stuff to the user interface is a way
of saying "look, we had to do tons of really hard technical work to make
things this smooth; we deserve a little bit of the UI which shows that
this really hard technical stuff is working away in the background",
which is not a good argument.</p>
<p>But that's a na√Øve thought. Ideally that'd be the case but clearly it
isn't. There <em>is</em> a difference between "this is offline" and "this is
online", even if only in the edge cases: if I'm typing my shopping list
on my laptop before I pick up my phone and run out the door to the
supermarket, I need to know if that shopping list has actually <em>made it</em>
to my phone before I turn the laptop off. If the synced status of your
data is entirely invisible -- that is, we pretend that it's all synced,
all the time -- then you get bitten on the one time when it wasn't
synced but you needed it to be. This sort of thing is what I think the
offlinefirst.org conversation will be about, and it's going to be
fascinating to be a part of it.</p>
		</div> <!--/#entry-content-->
		<ul class="neighbours-links">
		<li><a href="https://www.kryogenix.org/days/2013/11/06/twenty-past-eight/">Previous post</a></li>
		<li><a href="https://www.kryogenix.org/days/2013/11/09/slide-in-side-panels-with-pure-css-and-scaling/">Next post</a></li>
		</ul>

		<div class="hireme">
			I'm currently available for hire, to help you plan, architect, and build new systems, and for technical writing
			and articles. You can take a look at <a href="https://kryogenix.org">some projects I've worked on</a> and
			<a href="https://kryogenix.org/books">some of my writing</a>. If you'd like to talk about your upcoming project,
			do <a href="https://kryogenix.org/contact">get in touch.</a>
		</div>
	</div> <!--/#main-->
</div>  <!--/#post-->
<div id="webmentions">
<h4>More in the discussion (powered by <a href="http://indiewebcamp.com/Webmention">webmentions</a>)</h4>
	<ul><li>(no mentions, yet.)</li></ul>
<form id="wmform" method="POST" action="https://webmention.herokuapp.com/api/webmention">
	<label>Did you link to this post? Enter your page's URL:
	<input type="url" name="source"></label>
	<input type="hidden" name="target" value="https://www.kryogenix.org/days/2013/11/06/offline-first/">
	<input type="submit" value="Add link">
</form>
<script src="https://www.kryogenix.org/days/theme/live-webmentions-cors.js"></script>
</div>

<p id="oldcomments"></p>
<script>
var aurl = '2013/11/06/offline-first/';
var parts = aurl.split('/');
if (parts[parts.length-1] === "") { parts = parts.slice(0, parts.length-1); }
var tooNewForOldComments = false;
if (parts[0].match(/^[0-9]+$/)) {
	var asnum = parseInt(parts[0], 10);
	if (!isNaN(asnum) && asnum > 2014) {
		tooNewForOldComments = true;
	}
}
if (!tooNewForOldComments) {
	var comurl = "/oldcomments/" + parts.join("-") + ".html";
	var x = new XMLHttpRequest();
	x.open("HEAD", comurl, true);
	x.onreadystatechange = function() {
		if (x.readyState == 4) {
			if (x.status == 200) {
				document.getElementById("oldcomments").innerHTML = '<a href="' + comurl + '">See pre-2014 comments on this post</a>';
			}
		}
	};
	x.send();
}
</script>
<script type="module">
/* jslint esversion: 11 */
try {
	const resp = await fetch("/adpb-popular.json");
	const vals = await resp.json();
	let popular = vals[location.pathname];
	if (!popular && location.pathname.endsWith("/")) {
		popular = vals[location.pathname.replace(/\/$/, "")];
	}
	if (popular && popular.recent_idx != null) {
		let a = document.createElement("a");
		let p = document.createElement("p");
		p.className = "trending";
		a.href = "/adpb-popular.html";
		a.append(`#${popular.recent_idx + 1} in Trending`);
		p.append(a);
		const ec = document.querySelector("div.entry-content");
		ec.insertBefore(p, ec.firstChild);
	}
} catch(e) {
	console.error("Failed to fetch popular list", e);
}
</script>
<script src="https://www.kryogenix.org/days/theme/unrot-redirect.js"></script>
		</div>
		
		<footer>
			<p>Powered by <a href="http://pelican.readthedocs.org">Pelican</a></p>
		</footer>




<div id="loadtimer"></div>
<script>
window.onload = function(){
    setTimeout(function(){
      window.performance = window.performance || 
window.mozPerformance || window.msPerformance || 
window.webkitPerformance || {};
      var t = performance.timing || {};
      if (!t) {
        
        return;
      }
      var start = t.navigationStart,
          end = t.loadEventEnd
          loadTime = (end - start) / 1000;
      var copy = document.getElementById('loadtimer');
      copy.innerHTML += "This page loaded in " + loadTime + " seconds.";
    }, 0); 
}

</script>
</body> </html>