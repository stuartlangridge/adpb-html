<!DOCTYPE html>
<html lang="en">
<head>
		<title>as days pass by &mdash; Burning trees</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<link rel="profile" href="http://gmpg.org/xfn/11" />
		<link rel="stylesheet" type="text/css" href="http://www.kryogenix.org/days/theme/css/style.css" />
		<link rel='stylesheet' id='oswald-css'  href='http://fonts.googleapis.com/css?family=Oswald&#038;ver=3.3.2' type='text/css' media='all' />
		<link rel="stylesheet" type="text/css" href="http://www.kryogenix.org/days/theme/css/simple-footnotes.css" />
		<link rel="icon" type="image/png" href="/favicon.png" />
		<style type="text/css">
			body.custom-background { background-color: #f5f5f5; }
		</style>
		<link rel="alternate" type="application/rss+xml"
			title="as days pass by"
			href="http://www.kryogenix.org/days/feed" /> 
		<!--[if lte IE 8]><script src="http://www.kryogenix.org/days/theme/js/html5shiv.js"></script><![endif]-->
		<link rel="webmention" href="https://webmention.herokuapp.com/api/webmention" />
		<link rel="feed" href="http://www.kryogenix.org/days/archives/"> 
</head>

<body class="home blog custom-background single-author" >
	<div id="container">
		<div id="header">
				<p>A blog by <a href="http://www.kryogenix.org/">Stuart Langridge</a></p>
				<h1 id="site-title"><a href="http://www.kryogenix.org/days">as days pass by</a></h1>
<h2 id="site-description">scratched tallies on the prison wall</h2>		</div><!-- /#banner -->
		
		<div id="menu">
			<div class="menu-navigation-container">
				<ul id="menu-navigation" class="menu">
						<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/">Kryogenix Consulting</a></li>
						<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/days/archives">All posts, ever</a></li>
						<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/code">Code</a></li>

				</ul>
			</div> <!--/#menu-navigation-container-->
		</div><!-- /#menu -->
		
		<div class="page-title">
		</div>
	
		<div id="contents">

<div class="post type-post status-publish format-standard hentry category-general h-entry" id="post">
	<div class="entry-meta">
		<div class="date"><a href="http://www.kryogenix.org/days/2015/05/20/burning-trees/"><time 
			class="dt-published" datetime="2015-05-20T00:58:00">May 20 2015</time></a>
			<span class="byline h-card">By <a class="p-author" href="http://www.kryogenix.org/days/"><img src="http://kryogenix.org/images/hackergotchi-simpler.png" class="u-photo" alt=""> <span class="p-name">sil</span></a></span>
		</div>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a class="u-url p-name" href="http://www.kryogenix.org/days/2015/05/20/burning-trees/" title="Permalink to Burning trees" rel="bookmark">Burning&nbsp;trees</a>
		</h2>
		<div class="entry-content e-content">
			<p>Today I made a little thing, which I find rather more fascinating than I probably should. You see, <a href="http://omgubuntu.com">Joey</a> <a href="https://plus.google.com/u/0/+joeysneddon/posts/4g1pwF51Vfd">said</a>, &#8220;I wonder if <a href="http://www.omgubuntu.co.uk/2012/02/the-sands-of-time-linux-desktop">this</a> still&nbsp;works?&#8221;</p>
<p><img src="http://www.kryogenix.org/images/sandswall.jpg" alt="'The Sands of Time' Linux Desktop" style="width:100%"></p>
<p>That&#8217;s quite cool &#8212; sand dunes in front of a clock &#8212; and it made me remember that years and years ago you used to get these programs where you could click and it would create sand which accumulated at the bottom of the window. The very first one I saw was on the Archimedes. But what came along a little later was one where you could click to produce various different substances &#8212; sand, oil, water, fire &#8212; and oil floated on water, fire set the oil alight, and so on. It was all rather amazing back when the phrase &#8220;particle system&#8221; hadn&#8217;t been invented. Anyway, I thought: hey, what&#8217;d be cool is if the clock in that picture was obscured by actual moving sand, rather than just a static picture of sand dunes. A tiny bit of poking around brought me to <a href="http://dust.awevation.com/">Dust</a>, an implementation of precisely the sand/oil/water thing with WebGL in the browser. So I completely forgot about the clock thing and just played with Dust. Which is rather&nbsp;fun.</p>
<p>After some faffing around I discovered that it had two things I liked: &#8220;lava&#8221;, which is like a static piece of fire in that it ignites things that touch it but is not itself consumed, and &#8220;Life Itself&#8221; which is stuff that grows, like bacteria in a petri dish. But the life stuff is ignited by lava. so if you drop a couple of tiny bits of lava into the world, and then some green fungus life stuff, the fungus grows and takes over the whole window until it touches the lava, and then it gets burned up and vanishes&#8230; but, critically for this, it isn&#8217;t entirely consumed. A few specks remain, and those specks start growing again. Very cool. I spent ages just watching&nbsp;it!</p>
<p>Then I thought, well, this is nice and all, but this Dust thing uses WebGL, which is hassle, and it can&#8217;t actually cope with filling its whole window up with particles because it runs out of memory or space or shaders or something. So I figured I&#8217;d lash together a quick version&nbsp;myself.</p>
<p><a class="jsbin-embed" href="http://sil.jsbin.com/zovumo/embed?output">Burning Trees on jsbin.com</a><script src="http://static.jsbin.com/js/embed.js"></script></p>
<p>And lo, it is so: a noddy version in JavaScript. This is superbly inefficient; it regenerates the whole grid and then <code>innerHTML</code>s it into the page at every clock tick, and it&#8217;s completely character-based, like some sort of <span class="caps">BBC</span> Micro program. (At least it&#8217;s using <code>requestAnimationFrame</code> so it doesn&#8217;t hammer the <span class="caps">CPU</span> in a background tab!) But I could still sit there and watch it for ages. I really like it; the sense of watching the green take over and then get burned&nbsp;back.</p>
<p>I think what I&#8217;d like to do with it is make it considerably more efficient and then try to make it a sort of &#8220;live wallpaper&#8221; for my Ubuntu desktop. For that, I need to read about Life rendering algorithms; <a href="http://pmav.eu/stuff/javascript-game-of-life-v3.1.1/">this Life implementation at pmav.eu</a> uses a <span class="caps">JS</span> port of <a href="http://dotat.at/prog/life/life.html">Tony Finch&#8217;s List Life algorithm</a> to do the calculations. There&#8217;s also <a href="http://golly.sourceforge.net/">Golly</a>, the Life simulator, which can do things ridiculously fast, and it&#8217;s possible to program your own ruleset (rather than just follow John Conway&#8217;s original rules), and if I understood how to do this (I do not) then I could probably turn my little Burning Trees thing into something that&#8217;s renderable by Golly at a much bigger size than my inefficient JavaScript can manage. There seems to be a quite large community of people working on Life, still, to my amazement. Where do these people hang out, I wonder? So I can ask them how to write a Golly ruleset. And then see if I can make Golly run fullscreen and render to the root window and have the coolest desktop background imaginable, especially once it&#8217;s graphics rather than block characters, and maybe the green is different colours depending on how old it is, and the fire has a slightly cooler effect, and&#8230; well, you can see, I like this idea, so making it look pretty would be wonderful. Maybe I&#8217;ll even put a clock behind it. But if I did it&#8217;d either be <a href="http://sil.jsbin.com/mexuka">this one which I pinched from an imgur idea</a> or my favourite clock that I wrote, which is&nbsp;this:</p>
<p><a class="jsbin-embed" href="http://sil.jsbin.com/qafag/embed?output">Stuart&#8217;s cool clock on jsbin.com</a><script src="http://static.jsbin.com/js/embed.js"></script></p>
<p>Anyway, none of this is what Joey wanted. Sorry, Joey. I hope the thing you wanted still works, even if it is <em>waaaay</em> complex to set up. Someone should step up and make that easier for you, because I like it when we have pretty things, and there aren&#8217;t enough of them on our&nbsp;desktop.</p>
		</div> <!--/#entry-content-->
		<ul class="neighbours-links">
		<li><a href="http://www.kryogenix.org/days/2015/05/14/your-periodic-reminder-that/">Previous post</a></li>
		</ul>
	</div> <!--/#main-->
</div>  <!--/#post-->
<div id="webmentions">
<h4>More in the discussion (powered by <a href="http://indiewebcamp.com/Webmention">webmentions</a>)</h4>
	<ul><li>(no mentions, yet.)</li></ul>
<form id="wmform" method="POST" action="https://webmention.herokuapp.com/api/webmention">
	<label>Did you link to this post? Enter your page's URL:
	<input type="url" name="source"></label>
	<input type="hidden" name="target" value="http://www.kryogenix.org/days/2015/05/20/burning-trees/">
	<input type="submit" value="Add link">
</form>
<script src="http://www.kryogenix.org/days/theme/live-webmentions.js"></script>
</div>

<p id="oldcomments"></p>
<script>
var aurl = '2015/05/20/burning-trees/';
var parts = aurl.split('/');
if (parts[parts.length-1] === "") { parts = parts.slice(0, parts.length-1); }
var comurl = "/oldcomments/" + parts.join("-") + ".html";
var x = new XMLHttpRequest();
x.open("HEAD", comurl, true);
x.onreadystatechange = function() {
	if (x.readyState == 4) {
		if (x.status == 200) {
			document.getElementById("oldcomments").innerHTML = '<a href="' + comurl + '">See pre-2014 comments on this post</a>';
		}
	}
};
x.send();
</script>

		</div>
		
		<div id="footer">
			<p>Powered by <a href="http://pelican.readthedocs.org">Pelican</a>, theme by <a href="http://bunnyman.info">tBunnyMan</a>.</p>
				<script type="text/javascript">
					var _gaq = _gaq || [];
					_gaq.push(['_setAccount', 'UA-331575-1']);
					_gaq.push(['_trackPageview']);
					(function() {
						var ga = document.createElement('script'); 
						ga.type = 'text/javascript'; ga.async = true;
						ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
						var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
					})();

					// from https://paul.kinlan.me/detecting-injected-content/
					var detectInjection = function(knownHostsArray) {
						var requests = window.performance.getEntriesByType("resource");
						var unknownHosts = []; var knownHosts = {}; var foundHosts = {};
						for (var knownHost in knownHostsArray) {
							knownHosts[knownHostsArray[knownHost]] = true;
						}
						for (var requestIdx = 0; requestIdx < requests.length; requestIdx++) {
							var request = requests[requestIdx];
							var url = new URL(request.name);
							var host = url.host;
							// Aggregate all the requests from a host
							if(host in foundHosts) { foundHosts[host].push(request); } else { foundHosts[host] = new Array(request); }
						}
						for(var foundHost in foundHosts) {
							// If an unknown host is found, add it to a list.
							if(!(foundHost in knownHosts)) { unknownHosts.push(foundHost); }
						}
						return unknownHosts;
					};
					window.addEventListener("load", function() {
						var scripts = detectInjection(["kryogenix.org", "www.kryogenix.org", "www.google-analytics.com"]);
						if(!!scripts === true && scripts.length > 0) {
							for(var scriptsIdx = 0; scriptsIdx < scripts.length; scriptsIdx++) {
								var scr = scripts[scriptsIdx];
								_gaq.push(['trackEvent', 'ScriptLoads', 'UnknownHost', scr]);
							}
						}
					});
				</script>
		</div><!-- /#footer -->
	</div><!-- /#container -->
	<div style="display:none"></div>
</body>
</html>