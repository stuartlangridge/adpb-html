<!DOCTYPE html>
<html lang="en">
<head>
		<title>as days pass by &mdash; Sorry Henry</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="profile" href="http://gmpg.org/xfn/11" />
		<meta name="Description" content="Stuart Langridge of Kryogenix Consulting, for consultancy and custom development on the web and devices">
        <meta property="og:title" content="as days pass by &mdash; Sorry Henry">
        <meta property="og:type" content="website">
        <meta property="og:site_name" content="as days pass by">
        <meta property="og:description" content="A post by Stuart Langridge (sil)">
        <meta property="og:image" content="https://www.kryogenix.org/days/2018/02/08/sorry-henry/index.html.og_image.png">
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:site" content="@sil">
        <meta name="twitter:image" content="https://www.kryogenix.org/days/2018/02/08/sorry-henry/index.html.og_image.png">
		<link rel="stylesheet" type="text/css" href="../../../../theme/css/adpb.css" />
		<link rel="stylesheet" type="text/css" href="../../../../theme/css/simple-footnotes.css" />
		<link rel="icon" type="image/png" href="/favicon.png" />
		<link rel="alternate" type="application/rss+xml"
			title="as days pass by"
			href="https://www.kryogenix.org/days/feed" /> 
		<meta property="fediverse:creator" content="@sil@mastodon.social" />
		<link rel="webmention" href="https://webmention.herokuapp.com/api/webmention" />
		<link rel="feed" href="https://www.kryogenix.org/days/archives/"> 
</head>

<body class="home blog custom-background single-author" >
		<header>
				<p>A blog by <a href="https://www.kryogenix.org/">Stuart Langridge</a></p>
				<h1 id="site-title"><a href="https://www.kryogenix.org/days">as days pass by</a></h1>
<h2 id="site-description">scratched tallies on the prison wall</h2>		</header><!-- /#banner -->
		
		<nav>
			<ul>
				<li><a href="/">Kryogenix Consulting</a></li>
				<li><a href="/days/archives">All posts, ever</a></li>
				<li><a href="/code">Code</a></li>
			</ul>
		</nav>
		
		<div class="page-title">
		</div>
	
		<div id="contents">

<div class="post type-post status-publish format-standard hentry category-general h-entry" id="post">
	<div class="entry-meta">
		<div class="date"><a href="https://www.kryogenix.org/days/2018/02/08/sorry-henry/"><time 
			class="dt-published" datetime="2018-02-08T18:34:00+00:00">Feb 08 2018</time></a>
		</div>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a class="u-url p-name" href="https://www.kryogenix.org/days/2018/02/08/sorry-henry/">Sorry Henry</a>
		</h2>
		<div class="entry-content e-content">
			<p>I think I found a bug in a <a href="https://en.wikipedia.org/wiki/Henry_Dudeney">Henry Dudeney</a> book.</p>
<p>Dudeney was a really famous puzzle creator in Victorian/Edwardian times. For Americans: Sam Loyd was sort of an American knock-off of Dudeney, except that Loyd stole half his puzzles from other people and HD didn't. Dudeney got so annoyed by this theft that he eventually ended up comparing Loyd to the Devil, which was tough talk in 1910.</p>
<p>Anyway, he wrote a number of puzzle books, and at least some are available on <a href="http://www.gutenberg.org/ebooks/author/6885">Project Gutenberg</a>, so well done the PG people. If you like puzzles, maths or thinking sorts, then there are a few good collections (and there are nicer to read versions at <a href="https://archive.org/search.php?query=%221857-1930%22%20AND%20Dudeney">the Internet Archive</a> too). <em>The Canterbury Puzzles</em> is his most famous work, but I've been reading <em>Amusements in Mathematics</em>. In there he presents the following puzzle:</p>
<h4>81.--THE NINE COUNTERS.</h4>
<table class="dudeney">
    <tr><td></td><td>1</td><td>5</td><td>8</td><td></td><td>7</td><td>9</td></tr>
    <tr><td class="t">&times;</td><td></td><td>2</td><td>3</td><td class="t">&times;</td><td>4</td><td>6</td></tr>
</table>

<style>
table.dudeney td:not(.t):not(:empty) {
    border-radius: 1000px;
    box-shadow: 2px 2px 2px rgba(0,0,0,0.5);
    background-image: linear-gradient(
        180deg, hsl(0,0%,78%)  0%, 
        hsl(0,0%,90%) 47%, 
        hsl(0,0%,78%) 53%,
        hsl(0,0%,70%) 100%
    );
    width: 25px;
    border: 1px solid #aaaaaa;
    padding-bottom: 25px;
    height: 0;
    box-sizing: border-box;
    color: red;
}
table.dudeney td.t { text-align: right; }
</style>

<p>I have nine counters, each bearing one of the nine digits, 1, 2, 3, 4,
5, 6, 7, 8 and 9. I arranged them on the table in two groups, as shown
in the illustration, so as to form two multiplication sums, and found
that both sums gave the same product. You will find that 158 multiplied
by 23 is 3,634, and that 79 multiplied by 46 is also 3,634. Now, the
puzzle I propose is to rearrange the counters so as to get as large a
product as possible. What is the best way of placing them? Remember both
groups must multiply to the same amount, and there must be three
counters multiplied by two in one case, and two multiplied by two
counters in the other, just as at present.</p>
<h4>81. ANSWER</h4>
<p>In this case a certain amount of mere "trial" is unavoidable. But there
are two kinds of "trials"--those that are purely haphazard, and those
that are methodical. The true puzzle lover is never satisfied with mere
haphazard trials. The reader will find that by just reversing the
figures in 23 and 46 (making the multipliers 32 and 64) both products
will be 5,056. This is an improvement, but it is not the correct answer.
We can get as large a product as 5,568 if we multiply 174 by 32 and 96
by 58, but this solution is not to be found without the exercise of some
judgment and patience.</p>
<hr>

<p>But, you know what? I don't think he's right. Now, I appreciate that he probably had to spend hours or days trying out possibilities with a piece of paper and a fountain pen, and I just wrote the following 15 lines of Python in five minutes, but hey, he didn't have to bear with his government trying to ban encryption, so let's call it even.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">permutations</span>
<span class="n">nums</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]</span>
<span class="n">values</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">permutations</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="mi">9</span><span class="p">):</span>
    <span class="n">one</span>   <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="mi">100</span> <span class="o">+</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mi">10</span> <span class="o">+</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">two</span>   <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">*</span><span class="mi">10</span> <span class="o">+</span> <span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
    <span class="n">three</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">*</span><span class="mi">10</span> <span class="o">+</span> <span class="n">p</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span>
    <span class="n">four</span>  <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span><span class="o">*</span><span class="mi">10</span> <span class="o">+</span> <span class="n">p</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">four</span> <span class="o">&gt;</span> <span class="n">three</span><span class="p">:</span> <span class="k">continue</span> <span class="c1"># or we&#39;ll see fg*hi and hi*fg as different</span>
    <span class="k">if</span> <span class="n">one</span><span class="o">*</span><span class="n">two</span> <span class="o">==</span> <span class="n">three</span><span class="o">*</span><span class="n">four</span><span class="p">:</span>
        <span class="n">expression</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">*</span><span class="si">%s</span><span class="s2"> = </span><span class="si">%s</span><span class="s2">*</span><span class="si">%s</span><span class="s2"> = </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="n">one</span><span class="p">,</span> <span class="n">two</span><span class="p">,</span> <span class="n">three</span><span class="p">,</span> <span class="n">four</span><span class="p">,</span> <span class="n">one</span><span class="o">*</span><span class="n">two</span><span class="p">)</span>
        <span class="n">values</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">expression</span><span class="p">,</span> <span class="n">one</span><span class="o">*</span><span class="n">two</span><span class="p">))</span>
<span class="n">values</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Solution for 1-9&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">values</span><span class="p">]))</span>
</code></pre></div>

<p>The key point here is this: the little programme above indeed recognises his proposed solutions (<code>158*32 = 79*64 = 5056</code> and <code>174*32 = 96*58 = 5568</code>) but it also finds two larger ones: <code>584*12 = 96*73 = 7008</code> and <code>532*14 = 98*76 = 7448</code>. Did I miss something about the puzzle? Or am I actually in the rare position of finding an error in a Dudeney book? And all it took was seventy years of computer technology advancement to put me in that position. Maths, eh? Tch.</p>
<p>It's an interesting book. There are lots of money puzzles, in which I have to carefully remember that ha'pennies and farthings are a thing (a farthing is a quarter of a penny), there are 12 pennies in a shilling, and twenty shillings in a pound. There's some rather racist portrayals of comic-opera Chinese characters in a few of the puzzles. And my heart sank when I read a puzzle about husbands and wives crossing a river in a boat, where no man would permit his wife to be in the boat with another man without him, because I assumed that the solution would also say something like "and of course the women cannot be expected to row the boat", and I was then pleasantly surprised to discover that this was not the case and indeed they were described as probably being capable oarswomen and it was likely their boat to begin with! Writings from another time. But still as good as any puzzle book today, if not better.</p>
<blockquote class="twitter-tweet" data-lang="en-gb"><p lang="en" dir="ltr">From Henry Dudeney&#39;s Amusements in Mathematics, published 1917. We did, Henry, mate. Cheers for the puzzle book. <a href="https://t.co/tt8JljBXN1">https://t.co/tt8JljBXN1</a> <a href="https://t.co/MFamXHxJ05">pic.twitter.com/MFamXHxJ05</a></p>&mdash; Stuart Langridge (@sil) <a href="https://twitter.com/sil/status/912253821807730688?ref_src=twsrc%5Etfw">25 September 2017</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
		</div> <!--/#entry-content-->
		<ul class="neighbours-links">
		<li><a href="https://www.kryogenix.org/days/2018/01/30/and-everything/">Previous post</a></li>
		<li><a href="https://www.kryogenix.org/days/2018/02/20/collecting-user-data-while-protecting-user-privacy/">Next post</a></li>
		</ul>

		<div class="hireme">
			I'm currently available for hire, to help you plan, architect, and build new systems, and for technical writing
			and articles. You can take a look at <a href="https://kryogenix.org">some projects I've worked on</a> and
			<a href="https://kryogenix.org/books">some of my writing</a>. If you'd like to talk about your upcoming project,
			do <a href="https://kryogenix.org/contact">get in touch.</a>
		</div>
	</div> <!--/#main-->
</div>  <!--/#post-->
<div id="webmentions">
<h4>More in the discussion (powered by <a href="http://indiewebcamp.com/Webmention">webmentions</a>)</h4>
	<ul><li>(no mentions, yet.)</li></ul>
<form id="wmform" method="POST" action="https://webmention.herokuapp.com/api/webmention">
	<label>Did you link to this post? Enter your page's URL:
	<input type="url" name="source"></label>
	<input type="hidden" name="target" value="https://www.kryogenix.org/days/2018/02/08/sorry-henry/">
	<input type="submit" value="Add link">
</form>
<script src="https://www.kryogenix.org/days/theme/live-webmentions-cors.js"></script>
</div>

<p id="oldcomments"></p>
<script>
var aurl = '2018/02/08/sorry-henry/';
var parts = aurl.split('/');
if (parts[parts.length-1] === "") { parts = parts.slice(0, parts.length-1); }
var tooNewForOldComments = false;
if (parts[0].match(/^[0-9]+$/)) {
	var asnum = parseInt(parts[0], 10);
	if (!isNaN(asnum) && asnum > 2014) {
		tooNewForOldComments = true;
	}
}
if (!tooNewForOldComments) {
	var comurl = "/oldcomments/" + parts.join("-") + ".html";
	var x = new XMLHttpRequest();
	x.open("HEAD", comurl, true);
	x.onreadystatechange = function() {
		if (x.readyState == 4) {
			if (x.status == 200) {
				document.getElementById("oldcomments").innerHTML = '<a href="' + comurl + '">See pre-2014 comments on this post</a>';
			}
		}
	};
	x.send();
}
</script>
<script type="module">
/* jslint esversion: 11 */
try {
	const resp = await fetch("/adpb-popular.json");
	const vals = await resp.json();
	let popular = vals[location.pathname];
	if (!popular && location.pathname.endsWith("/")) {
		popular = vals[location.pathname.replace(/\/$/, "")];
	}
	if (popular && popular.recent_idx != null) {
		let a = document.createElement("a");
		let p = document.createElement("p");
		p.className = "trending";
		a.href = "/adpb-popular.html";
		a.append(`#${popular.recent_idx + 1} in Trending`);
		p.append(a);
		const ec = document.querySelector("div.entry-content");
		ec.insertBefore(p, ec.firstChild);
	}
} catch(e) {
	console.error("Failed to fetch popular list", e);
}
</script>
<script src="https://www.kryogenix.org/days/theme/unrot-redirect.js"></script>
		</div>
		
		<footer>
			<p>Powered by <a href="http://pelican.readthedocs.org">Pelican</a></p>
		</footer>




<div id="loadtimer"></div>
<script>
window.onload = function(){
    setTimeout(function(){
      window.performance = window.performance || 
window.mozPerformance || window.msPerformance || 
window.webkitPerformance || {};
      var t = performance.timing || {};
      if (!t) {
        
        return;
      }
      var start = t.navigationStart,
          end = t.loadEventEnd
          loadTime = (end - start) / 1000;
      var copy = document.getElementById('loadtimer');
      copy.innerHTML += "This page loaded in " + loadTime + " seconds.";
    }, 0); 
}

</script>
</body> </html>