<!DOCTYPE html>
<html lang="en">
<head>
		<title>as days pass by &mdash; Non-capturing groups in a regexp</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="profile" href="http://gmpg.org/xfn/11" />
		<link href="https://fonts.googleapis.com/css?display=swap&family=Averia+Serif+Libre|Enriqueta:400,700" rel="stylesheet">
		<meta name="monetization" content="$pay.stronghold.co/1a198b49b9914f84e218d360b725bca1fd1">
		<meta name="Description" content="Stuart Langridge of Kryogenix Consulting, for consultancy and custom development on the web and devices">
		<link rel="stylesheet" type="text/css" href="https://www.kryogenix.org/days/theme/css/style.css" />
		<link rel="stylesheet" type="text/css" href="https://www.kryogenix.org/days/theme/css/simple-footnotes.css" />
		<link rel="icon" type="image/png" href="/favicon.png" />
		<style type="text/css">
			body.custom-background {
				background: url(https://www.kryogenix.org/days/theme/handmadepaper.png); /* thank you subtlepatterns! */
			}
		</style>
		<link rel="alternate" type="application/rss+xml"
			title="as days pass by"
			href="https://www.kryogenix.org/days/feed" /> 
		<!--[if lte IE 8]><script src="https://www.kryogenix.org/days/theme/js/html5shiv.js"></script><![endif]-->
		<link rel="webmention" href="https://webmention.herokuapp.com/api/webmention" />
		<link rel="feed" href="https://www.kryogenix.org/days/archives/"> 
		<script src="https://cdn.ravenjs.com/3.4.1/raven.min.js"></script>
		<script>Raven.config('https://fc8cd4c9637043f3b385d9daa8dbe367@app.getsentry.com/91852').install()</script>
</head>

<body class="home blog custom-background single-author" >
	<div id="container">
		<div id="header">
				<p>A blog by <a href="https://www.kryogenix.org/">Stuart Langridge</a></p>
				<h1 id="site-title"><a href="https://www.kryogenix.org/days">as days pass by</a></h1>
<h2 id="site-description">scratched tallies on the prison wall</h2>		</div><!-- /#banner -->
		
		<div id="menu">
			<div class="menu-navigation-container">
				<ul id="menu-navigation" class="menu">
						<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/">Kryogenix Consulting</a></li>
						<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/days/archives">All posts, ever</a></li>
						<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/code">Code</a></li>

				</ul>
			</div> <!--/#menu-navigation-container-->
		</div><!-- /#menu -->
		
		<div class="page-title">
		</div>
	
		<div id="contents">

<div class="post type-post status-publish format-standard hentry category-general h-entry" id="post">
	<div class="entry-meta">
		<div class="date"><a href="https://www.kryogenix.org/days/2008/06/17/non-capturing-groups-in-a-regexp/"><time 
			class="dt-published" datetime="2008-06-17T15:26:00+01:00">Jun 17 2008</time></a>
			<span class="byline h-card">By <a class="p-author" href="https://www.kryogenix.org/days/"><img src="https://kryogenix.org/images/hackergotchi-simpler.png" class="u-photo" alt=""> <span class="p-name">sil</span></a></span>
		</div>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a class="u-url p-name" href="https://www.kryogenix.org/days/2008/06/17/non-capturing-groups-in-a-regexp/" title="Permalink to Non-capturing groups in a regexp" rel="bookmark">Non-capturing groups in a&nbsp;regexp</a>
		</h2>
		<div class="entry-content e-content">
			<p>Bridge to engine room, geek factor nine. Those of you who read this for
musings about the world, stop reading now. Alex at work has just alerted
me to the existence of non-capturing groups in regular expressions. I
had no idea these existed, and they&#8217;re pretty useful if you&#8217;re doing <span class="caps">RE</span>
matching. If you&#8217;re trying to match a string which might be &#8220;fish, chips
and ketchup&#8221;, might be &#8220;fish, chips and peas&#8221;, and might not contain the
&#8220;and chips&#8221; at all, and what you care about is what&#8217;s last on the list
(the &#8220;peas&#8221; or &#8220;ketchup&#8221;) then I&#8217;d have used a regexp like
<code>/fish(, chips)? and (.*)$/</code>. Matching that against &#8220;fish, chips and
peas&#8221; will give you back a three-item tuple,
<code>("fish, chips and peas", ", chips", "peas")</code>. (<a href="javascript:alert(/fish(,%20chips)?%20and%20(.*)$/.exec('fish,%20chips%20and%20peas').join('%20--%20'))">Test with
JavaScript</a>) You need the brackets around &#8220;<code>, chips</code>&#8221; in the regexp
because you want to treat it as a group. However, it ends up in the
results, and that&#8217;s really irritating. Now I know about non-capturing
groups, I&#8217;d do this: <code>/fish(?:, chips)? and (.*)$/</code>. The <code>?:</code> after the
opening bracket of the group means &#8220;don&#8217;t capture this group&#8221;. So now
the results you get back are <code>("fish, chips and peas", "peas")</code> &#8212; the
chips, which we don&#8217;t care about, are not mentioned! (<a href="javascript:alert(/fish(?:,%20chips)?%20and%20(.*)$/.exec('fish,%20chips%20and%20peas').join('%20--%20'))">Test with
JavaScript</a>) Another useful little trick to add to my toolbox.
Cheers, Alex. Everyone who is reading this and thinking &#8220;I knew about
this ages ago&#8221;, why didn&#8217;t you tell&nbsp;me?</p>
		</div> <!--/#entry-content-->
		<ul class="neighbours-links">
		<li><a href="https://www.kryogenix.org/days/2008/06/08/microformats-are-shi/">Previous post</a></li>
		<li><a href="https://www.kryogenix.org/days/2008/06/17/lugradio-live-uk-2008-is-coming/">Next post</a></li>
		</ul>
	</div> <!--/#main-->
</div>  <!--/#post-->
<div id="webmentions">
<h4>More in the discussion (powered by <a href="http://indiewebcamp.com/Webmention">webmentions</a>)</h4>
	<ul><li>(no mentions, yet.)</li></ul>
<form id="wmform" method="POST" action="https://webmention.herokuapp.com/api/webmention">
	<label>Did you link to this post? Enter your page's URL:
	<input type="url" name="source"></label>
	<input type="hidden" name="target" value="https://www.kryogenix.org/days/2008/06/17/non-capturing-groups-in-a-regexp/">
	<input type="submit" value="Add link">
</form>
<script src="https://www.kryogenix.org/days/theme/live-webmentions-cors.js"></script>
</div>

<p id="oldcomments"></p>
<script>
var aurl = '2008/06/17/non-capturing-groups-in-a-regexp/';
var parts = aurl.split('/');
if (parts[parts.length-1] === "") { parts = parts.slice(0, parts.length-1); }
var tooNewForOldComments = false;
if (parts[0].match(/^[0-9]+$/)) {
	var asnum = parseInt(parts[0], 10);
	if (!isNaN(asnum) && asnum > 2014) {
		tooNewForOldComments = true;
	}
}
if (!tooNewForOldComments) {
	var comurl = "/oldcomments/" + parts.join("-") + ".html";
	var x = new XMLHttpRequest();
	x.open("HEAD", comurl, true);
	x.onreadystatechange = function() {
		if (x.readyState == 4) {
			if (x.status == 200) {
				document.getElementById("oldcomments").innerHTML = '<a href="' + comurl + '">See pre-2014 comments on this post</a>';
			}
		}
	};
	x.send();
}
</script>

		</div>
		
		<div id="footer">
			<p>Powered by <a href="http://pelican.readthedocs.org">Pelican</a>, theme by <a href="http://bunnyman.info">tBunnyMan</a>.</p>
			<!-- Global site tag (gtag.js) - Google Analytics. Cookie set to be a session cookie, not permanent, for privacy -->
			<script async src="https://www.googletagmanager.com/gtag/js?id=UA-331575-1"></script>
			<script>
  				window.dataLayer = window.dataLayer || [];
  				function gtag(){dataLayer.push(arguments);}
  				gtag('js', new Date());
  				gtag('config', 'UA-331575-1', {cookie_expires: 0});
			</script>
		</div><!-- /#footer -->
	</div><!-- /#container -->




<div id="loadtimer"></div>
<script>
window.onload = function(){
    setTimeout(function(){
      window.performance = window.performance || 
window.mozPerformance || window.msPerformance || 
window.webkitPerformance || {};
      var t = performance.timing || {};
      if (!t) {
        
        return;
      }
      var start = t.navigationStart,
          end = t.loadEventEnd
          loadTime = (end - start) / 1000;
      var copy = document.getElementById('loadtimer');
      copy.innerHTML += "This page loaded in " + loadTime + " seconds.";
    }, 0); 
}

</script>
</body> </html>