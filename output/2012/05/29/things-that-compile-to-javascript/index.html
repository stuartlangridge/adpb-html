<!DOCTYPE html>
<html lang="en">
<head>
		<title>as days pass by &mdash; Things that compile to JavaScript</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="profile" href="http://gmpg.org/xfn/11" />
		<meta name="Description" content="Stuart Langridge of Kryogenix Consulting, for consultancy and custom development on the web and devices">
        <meta property="og:title" content="as days pass by &mdash; Things that compile to JavaScript">
        <meta property="og:type" content="website">
        <meta property="og:site_name" content="as days pass by">
        <meta property="og:description" content="A post by Stuart Langridge (sil)">
        <meta property="og:image" content="https://www.kryogenix.org/days/2012/05/29/things-that-compile-to-javascript/index.html.og_image.png">
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:site" content="@sil">
        <meta name="twitter:image" content="https://www.kryogenix.org/days/2012/05/29/things-that-compile-to-javascript/index.html.og_image.png">
		<link rel="stylesheet" type="text/css" href="../../../../theme/css/adpb.css" />
		<link rel="stylesheet" type="text/css" href="../../../../theme/css/simple-footnotes.css" />
		<link rel="icon" type="image/png" href="/favicon.png" />
		<link rel="alternate" type="application/rss+xml"
			title="as days pass by"
			href="https://www.kryogenix.org/days/feed" /> 
		<link rel="webmention" href="https://webmention.herokuapp.com/api/webmention" />
		<link rel="feed" href="https://www.kryogenix.org/days/archives/"> 
</head>

<body class="home blog custom-background single-author" >
		<header>
				<p>A blog by <a href="https://www.kryogenix.org/">Stuart Langridge</a></p>
				<h1 id="site-title"><a href="https://www.kryogenix.org/days">as days pass by</a></h1>
<h2 id="site-description">scratched tallies on the prison wall</h2>		</header><!-- /#banner -->
		
		<nav>
			<ul>
				<li><a href="/">Kryogenix Consulting</a></li>
				<li><a href="/days/archives">All posts, ever</a></li>
				<li><a href="/code">Code</a></li>
			</ul>
		</nav>
		
		<div class="page-title">
		</div>
	
		<div id="contents">

<div class="post type-post status-publish format-standard hentry category-general h-entry" id="post">
	<div class="entry-meta">
		<div class="date"><a href="https://www.kryogenix.org/days/2012/05/29/things-that-compile-to-javascript/"><time 
			class="dt-published" datetime="2012-05-29T00:02:00+01:00">May 29 2012</time></a>
		</div>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a class="u-url p-name" href="https://www.kryogenix.org/days/2012/05/29/things-that-compile-to-javascript/">Things that compile to JavaScript</a>
		</h2>
		<div class="entry-content e-content">
			<p>Lots of discussion recently about things-that-compile-to-JavaScript. And
the discussion is forcefully making the point that they're a good idea:</p>
<blockquote>
<p>JS is a compile target, and that is not only a strength but a feature.
Not a bug. JS community needs to embrace diversity. — <a href="https://twitter.com/brianleroux/status/207185628880830464">@brianleroux</a></p>
</blockquote>
<p>Brian's right, too, and those that battle against this have a little
flavour of the assembly language hackers who railed against C because
compilers couldn't produce things as tightly rolled as hand-hacking
opcodes.</p>
<p>However, I'm not sure I like the idea all that much, and I don't <em>think</em>
that my reasoning boils down to "I don't like it so you can't have it".
Herewith, my reasoning.</p>
<p>There are some people who believe that a compiler will produce bad
JavaScript. The JS produced by a program will be less elegant, less
efficient, make less use of the language, than anything hand-written and
loved and agonised over could be. This is a crock of shit. Sure, when a
compiler is first built then a super-dedicated super-expert person might
be able to beat it, but the gap narrows and narrows over time. I do not
care, in this discussion, about forcing the last clock-cycle of
efficiency out of your JavaScript by writing it by hand. However, I do
care, a lot, about the JavaScript I can see being <strong>readable</strong>.</p>
<blockquote>
<p>Why don't mobile browsers have "View Source"? — <a href="https://twitter.com/mrdoob/status/207231612813979649">@mrdoob</a></p>
</blockquote>
<p>The Web, unusually, came with a View Source button. Hardly anyone had
done that before, and hardly anyone's done it since. Hands up if you've
learned at least something by viewing the source of other people's
pages. OK, everyone, now put your hands down. Hands up if you learned
everything from books and nothing at all from web pages? OK, no-one,
don't put your hands down because there is no-one with their hands up,
because there is <em>no-one like that</em>. What concerns me about JavaScript
being a <em>target language</em>, a thing which is written by compilers and
minifiers and compressors, is that we break people's ability to learn.
When you're debugging your code, when you're debugging someone else's
site, when you've seen a cool trick and want to learn how it's done, you
have to do that by reading code that no human has ever seen; by reading
code output by a computer program. Computers are excellent tools, but
they are very bad at <em>teaching</em>. If you're trying to learn from code
that isn't the code that the author actually wrote, you're always going
to be at a gargantuan disadvantage. Obviously, when the author's
debugging her own code she's got the Real Source to hand, and a bunch of
sweet tools to work with it and debug it and step through it and
understand it. Those of us learning from what's actually given to the
browser have no such luxury.</p>
<p>Obviously, there is a balance here. People don't minify their code
because they want to hide it from prying eyes, they minify it because
they want to make their site load faster and because Steve Souders has
proved that it will if they do. (Well. Some people do minify their code
just because they want to hide it, but I think we can all agree that
those people can sod off, right?) No-one writes in CoffeeScript because
they want to hide the secret .coffee magic from browsers; they do it
because it's better for them, and optimising your process to make stuff
easier for random people to learn from your code is the tail wagging the
dog a bit, amirite?</p>
<p>Well, sorta, and sort of not. Remember that View Source thing. This is a
tragedy of the commons; if we make things better for ourselves right now
by obfuscating code (for speed, not hiding), by removing View Source
from browsers (for elegance and simplicity of UI, not restrictiveness),
by reviewing applications before they're allowed to be run (for
consistency of experience, not gatekeeping)… where are the next
brianleroux and mrdoob and dmr and dhh and linus and woz coming from? I
don't say this to suggest that building a language which compiles to
JavaScript makes you someone who hates openness and the web, not at all.
But I do ask that we bear in mind that View Source is increasingly
useless if you're not Viewing the Source that was written. There's a
shift to "I'll provide the source if I want to, as an altruistic act"
(which most people I know, and certainly everyone on that list, does),
and away from the Web's default position which is "of course the source
is there for you to look at and learn from and experiment with and
improve; why would it not be?" We aren't going to throw that away
unnecessarily, but I want the next generation to know that it's
important too, and that means we've gotta tell them why... and telling
them why is hard if they think of JavaScript as a thing that only
computers read.</p>
		</div> <!--/#entry-content-->
		<ul class="neighbours-links">
		<li><a href="https://www.kryogenix.org/days/2012/05/12/how-to-make-apis-that-people-like/">Previous post</a></li>
		<li><a href="https://www.kryogenix.org/days/2012/06/06/how-i-checked-whether-my-linkedin-password-was-leaked/">Next post</a></li>
		</ul>

		<div class="hireme">
			I'm currently available for hire, to help you plan, architect, and build new systems, and for technical writing
			and articles. You can take a look at <a href="https://kryogenix.org">some projects I've worked on</a> and
			<a href="https://kryogenix.org/books">some of my writing</a>. If you'd like to talk about your upcoming project,
			do <a href="https://kryogenix.org/contact">get in touch.</a>
		</div>
	</div> <!--/#main-->
</div>  <!--/#post-->
<div id="webmentions">
<h4>More in the discussion (powered by <a href="http://indiewebcamp.com/Webmention">webmentions</a>)</h4>
	<ul><li>(no mentions, yet.)</li></ul>
<form id="wmform" method="POST" action="https://webmention.herokuapp.com/api/webmention">
	<label>Did you link to this post? Enter your page's URL:
	<input type="url" name="source"></label>
	<input type="hidden" name="target" value="https://www.kryogenix.org/days/2012/05/29/things-that-compile-to-javascript/">
	<input type="submit" value="Add link">
</form>
<script src="https://www.kryogenix.org/days/theme/live-webmentions-cors.js"></script>
</div>

<p id="oldcomments"></p>
<script>
var aurl = '2012/05/29/things-that-compile-to-javascript/';
var parts = aurl.split('/');
if (parts[parts.length-1] === "") { parts = parts.slice(0, parts.length-1); }
var tooNewForOldComments = false;
if (parts[0].match(/^[0-9]+$/)) {
	var asnum = parseInt(parts[0], 10);
	if (!isNaN(asnum) && asnum > 2014) {
		tooNewForOldComments = true;
	}
}
if (!tooNewForOldComments) {
	var comurl = "/oldcomments/" + parts.join("-") + ".html";
	var x = new XMLHttpRequest();
	x.open("HEAD", comurl, true);
	x.onreadystatechange = function() {
		if (x.readyState == 4) {
			if (x.status == 200) {
				document.getElementById("oldcomments").innerHTML = '<a href="' + comurl + '">See pre-2014 comments on this post</a>';
			}
		}
	};
	x.send();
}
</script>
<script type="module">
/* jslint esversion: 11 */
try {
	const resp = await fetch("/adpb-popular.json");
	const vals = await resp.json();
	let popular = vals[location.pathname];
	if (!popular && location.pathname.endsWith("/")) {
		popular = vals[location.pathname.replace(/\/$/, "")];
	}
	if (popular && popular.recent_idx != null) {
		let a = document.createElement("a");
		let p = document.createElement("p");
		p.className = "trending";
		a.href = "/adpb-popular.html";
		a.append(`#${popular.recent_idx + 1} in Trending`);
		p.append(a);
		const ec = document.querySelector("div.entry-content");
		ec.insertBefore(p, ec.firstChild);
	}
} catch(e) {
	console.error("Failed to fetch popular list", e);
}
</script>
<script src="https://www.kryogenix.org/days/theme/unrot-redirect.js"></script>
		</div>
		
		<footer>
			<p>Powered by <a href="http://pelican.readthedocs.org">Pelican</a></p>
		</footer>




<div id="loadtimer"></div>
<script>
window.onload = function(){
    setTimeout(function(){
      window.performance = window.performance || 
window.mozPerformance || window.msPerformance || 
window.webkitPerformance || {};
      var t = performance.timing || {};
      if (!t) {
        
        return;
      }
      var start = t.navigationStart,
          end = t.loadEventEnd
          loadTime = (end - start) / 1000;
      var copy = document.getElementById('loadtimer');
      copy.innerHTML += "This page loaded in " + loadTime + " seconds.";
    }, 0); 
}

</script>
</body> </html>