<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>as days pass by - sil</title><link href="https://www.kryogenix.org/days/" rel="alternate"></link><link href="https://www.kryogenix.org/days/feeds/sil.atom.xml" rel="self"></link><id>https://www.kryogenix.org/days/</id><updated>2023-01-02T18:10:00+00:00</updated><subtitle>scratched tallies on the prison wall</subtitle><entry><title>What to do about hotlinking</title><link href="https://www.kryogenix.org/days/2023/01/02/what-to-do-about-hotlinking/" rel="alternate"></link><published>2023-01-02T18:10:00+00:00</published><updated>2023-01-02T18:10:00+00:00</updated><author><name>sil</name></author><id>tag:www.kryogenix.org,2023-01-02:/days/2023/01/02/what-to-do-about-hotlinking/</id><summary type="html">&lt;p&gt;Hotlinking, in the context I want to discuss here, is the act of using a resource on your website by linking to it on someone else’s website. This might be any resource: a script, an image, anything that is referenced by &lt;span class="caps"&gt;URL&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;It’s a bit of an anti-social …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Hotlinking, in the context I want to discuss here, is the act of using a resource on your website by linking to it on someone else’s website. This might be any resource: a script, an image, anything that is referenced by &lt;span class="caps"&gt;URL&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;It’s a bit of an anti-social practice, to be honest. Essentially, you’re offloading the responsibility for the bandwidth of serving that resource to someone else, but it’s your site and your users who get the benefit of that. That’s not all that nice.&lt;/p&gt;
&lt;p&gt;Now, if the “other person’s website” is a &lt;span class="caps"&gt;CDN&lt;/span&gt; — that is, a site deliberately set up &lt;em&gt;in order&lt;/em&gt; to serve resources to someone else — then that’s different. There are many CDNs, and using resources served from them is not a bad thing. That’s not what I’m talking about. But if you’re including something direct from someone else’s not-a-&lt;span class="caps"&gt;CDN&lt;/span&gt; site, then… what, if anything, should the owner of that site do about it?&lt;/p&gt;
&lt;p&gt;I’ve got a fairly popular, small, piece of JavaScript: &lt;a href="https://kryogenix.org/code/browser/sorttable"&gt;sorttable.js&lt;/a&gt;, which makes an &lt;span class="caps"&gt;HTML&lt;/span&gt; table be sortable by clicking on the headers. It’s existed for a &lt;em&gt;long&lt;/em&gt; time now (the very first version was written twenty years ago!) and I get an email about it once a week or so from people looking to customise how it works or ask questions about how to do a thing they want. It’s open source, and I encourage people to use it; it’s deliberately designed to be simple&lt;sup id="sf-what-to-do-about-hotlinking-1-back"&gt;&lt;a href="#sf-what-to-do-about-hotlinking-1" class="simple-footnote" title="and will stay simple; I’d rather sorttable were simple and relatively bulletproof than comprehensive and complicated. This also explains why it’s not written in very “modern” JS style; the best assurance I have that it works in old browsers that are hard to test in now is that it DID work in them and I haven’t changed it much"&gt;1&lt;/a&gt;&lt;/sup&gt;, because the target audience is really people who aren’t hugely experienced with web development and who can add sortability to their &lt;span class="caps"&gt;HTML&lt;/span&gt; tables with a couple of lines of code. &lt;/p&gt;
&lt;p&gt;The instructions for sorttable are pretty clear: download the library, then put it in your web space and include it. However, some sites skip that first step, and instead just link directly to the copy on my website with a &lt;code&gt;&amp;lt;script&amp;gt;&lt;/code&gt; element. Having looked at my bandwidth usage recently, this happens quite a lot&lt;sup id="sf-what-to-do-about-hotlinking-2-back"&gt;&lt;a href="#sf-what-to-do-about-hotlinking-2" class="simple-footnote" title="in the last two weeks I’ve had about 200,000 hits on sorttable.js from sites that hotlink it, which ain’t nothin’"&gt;2&lt;/a&gt;&lt;/sup&gt;, and on some quite high-profile sites. I’m not going to name and shame anyone&lt;sup id="sf-what-to-do-about-hotlinking-3-back"&gt;&lt;a href="#sf-what-to-do-about-hotlinking-3" class="simple-footnote" title="yet, at least, so don’t ask"&gt;3&lt;/a&gt;&lt;/sup&gt;, but I’d quite like to encourage people to not do that, if there’s a way to do it. So I’ve been thinking about ways that I might discourage hotlinking the script directly, while doing so in a reasonable and humane fashion. I’m also interested in suggestions: hit me up on Mastodon at &lt;a href="https://mastodon.social/@sil"&gt;@sil@mastodon.social&lt;/a&gt; or Twitter&lt;sup id="sf-what-to-do-about-hotlinking-4-back"&gt;&lt;a href="#sf-what-to-do-about-hotlinking-4" class="simple-footnote" title="if you must"&gt;4&lt;/a&gt;&lt;/sup&gt; as @sil.&lt;/p&gt;
&lt;h2&gt;Move the script to a different &lt;span class="caps"&gt;URL&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;This is the obvious thing to do: I move the script and update my page to link to the new location, so anyone coming to my page to get the script will be wholly unaffected and unaware I did it. I do not want to do this, for two big reasons: it’s kicking the can down the road, and it’s unfriendly.&lt;/p&gt;
&lt;p&gt;It’s can-kicking because it doesn’t actually solve the problem: if I do nothing else to discourage the practice of hotlinking, then a few years from now I’ll have people hotlinking to the new location and I’ll have to do it again. &lt;span class="caps"&gt;OK&lt;/span&gt;, that’s not exactly a lot of work, but it’s still not a great answer.&lt;/p&gt;
&lt;p&gt;But more importantly, it’s unfriendly. If I do that, I’ll be deliberately breaking everyone who’s hotlinking the script. You might think that they deserve it, but it’s not actually them who feel the effect; it’s their users. And their users didn’t do it. One of the big motives behind the web’s general underlying principle of “don’t break the web” is that it’s not reasonable to punish a site’s users for the bad actions of the site’s creators. This applies to browsers, to libraries, to websites, the whole lot. I would like to find a less harsh method than this.&lt;/p&gt;
&lt;h2&gt;Move the script to a different &lt;em&gt;dynamic&lt;/em&gt; &lt;span class="caps"&gt;URL&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;That is: do the above, but link to a &lt;span class="caps"&gt;URL&lt;/span&gt; which changes automatically every month or every minute or something. The reason that I don’t want to do this (apart from the unfriendly one from above, which still applies even though this fixes the can-kicking) is that this requires server collusion; I’d need to make my main page be dynamic in some way, so that links to the script also update along with the script name change. This involves faffery with cron jobs, or turning the existing static &lt;span class="caps"&gt;HTML&lt;/span&gt; page into a server-generated page, both of which are annoying. I know how to do this, but it feels like an inelegant solution; this isn’t really a technical problem, it’s a social one, where developers are doing an anti-social thing. Attempting to solve social problems with technical measures is pretty much always a bad idea, and so it is in this case.&lt;/p&gt;
&lt;h2&gt;Contact the highest-profile site developers about it&lt;/h2&gt;
&lt;p&gt;I’m leaning in this direction. I’m &lt;span class="caps"&gt;OK&lt;/span&gt; with smaller sites hotlinking (well, I’m not really, but I’m prepared to handwave it; I made the script and made it easy to use exactly to help people, and if a small part of that general donation to the universe includes me providing bandwidth for it, then I can live with that). The issue here is that it’s not always easy to tell who those heavy-bandwidth-consuming sites &lt;em&gt;are&lt;/em&gt;. It relies on the referrer being provided, which it isn’t always. It’s also a bit more work on my part, because I would want to send an email saying “hey, Site X developers, you’re hotlinking my script as you can see on page sitex.example.com/sometable.html and it would be nice if you didn’t do that”, but I have no good way of identifying those pages; the document referrer isn’t always that specific. If I send an email saying “you’re hotlinking my script somewhere, who knows where, please don’t do that” then the site developers are quite likely to put this request at the very bottom of their list, and I don’t blame them.&lt;/p&gt;
&lt;h2&gt;Move the script and maliciously break the old one&lt;/h2&gt;
&lt;p&gt;This is: I move the script somewhere else and update my links, and then I change the previous &lt;span class="caps"&gt;URL&lt;/span&gt; to be the same script but it does something like barf a complaint into the console log, or (in extreme cases based on suggestions I’ve had) pops up an alert box or does something equally obnoxious. Obviously, I don’t wanna do this.&lt;/p&gt;
&lt;h2&gt;Legal-ish things&lt;/h2&gt;
&lt;p&gt;That is: contact the highest profile users, but instead of being conciliatory, be threatening. “You’re hotlinking this, stop doing it, or pay the Hotlink Licence Fee which is one cent per user per day” or similar. I think the people who suggest this sort of thing (and the previous malicious approach) must have had another website do something terrible to them in a previous life or something and now are out for revenge. I liked John Wick as much as the next poorly-socialised revenge-fantasy tech nerd, but he’s not a good model for collaborative software development, y’know?&lt;/p&gt;
&lt;h2&gt;Put the page (or whole site) behind a &lt;span class="caps"&gt;CDN&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;I could put the site behind Cloudflare (or perhaps a better, less troubling &lt;span class="caps"&gt;CDN&lt;/span&gt;) and then not worry about it; it’s not &lt;em&gt;my&lt;/em&gt; bandwidth then, it’s theirs, and they’re fine with it. This used to be the case, but recently I moved web hosts&lt;sup id="sf-what-to-do-about-hotlinking-5-back"&gt;&lt;a href="#sf-what-to-do-about-hotlinking-5" class="simple-footnote" title="to the excellent Mythic Beasts, who are way better than the previous hosts"&gt;5&lt;/a&gt;&lt;/sup&gt; and stepped away from Cloudflare in so doing. While this would work… it feels like giving up, a bit. I’m not actually solving the problem, I’m just giving it to someone else who is &lt;span class="caps"&gt;OK&lt;/span&gt; with it.&lt;/p&gt;
&lt;h2&gt;Live with it&lt;/h2&gt;
&lt;p&gt;This isn’t overrunning my bandwidth allocation or anything. I’m not actually &lt;em&gt;affected&lt;/em&gt; by this. My complaint isn’t important; it’s more a sort of distaste for the process. I’d like to make this better, rather than ignoring it, even if ignoring it doesn’t mean much, as long as I’m not put to more inconvenience by fixing it. We want things to be better, after all, not simply tolerable.&lt;/p&gt;
&lt;p&gt;So… what do you think, gentle reader? What would you do about it? Answers on a postcard.&lt;/p&gt;&lt;ol class="simple-footnotes"&gt;&lt;li id="sf-what-to-do-about-hotlinking-1"&gt;and will stay simple; I’d rather sorttable were simple and relatively bulletproof than comprehensive and complicated. This also explains why it’s not written in very “modern” &lt;span class="caps"&gt;JS&lt;/span&gt; style; the best assurance I have that it works in old browsers that are hard to test in now is that it &lt;span class="caps"&gt;DID&lt;/span&gt; work in them and I haven’t changed it much &lt;a href="#sf-what-to-do-about-hotlinking-1-back" class="simple-footnote-back"&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;li id="sf-what-to-do-about-hotlinking-2"&gt;in the last two weeks I’ve had about 200,000 hits on sorttable.js from sites that hotlink it, which ain’t nothin’ &lt;a href="#sf-what-to-do-about-hotlinking-2-back" class="simple-footnote-back"&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;li id="sf-what-to-do-about-hotlinking-3"&gt;yet, at least, so don’t ask &lt;a href="#sf-what-to-do-about-hotlinking-3-back" class="simple-footnote-back"&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;li id="sf-what-to-do-about-hotlinking-4"&gt;if you must &lt;a href="#sf-what-to-do-about-hotlinking-4-back" class="simple-footnote-back"&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;li id="sf-what-to-do-about-hotlinking-5"&gt;to the excellent &lt;a href="https://www.mythic-beasts.com/hosting"&gt;Mythic Beasts&lt;/a&gt;, who are way better than the previous hosts &lt;a href="#sf-what-to-do-about-hotlinking-5-back" class="simple-footnote-back"&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;/ol&gt;</content><category term="General musings"></category></entry><entry><title>How I set up a Twitter archive with Tweetback</title><link href="https://www.kryogenix.org/days/2022/12/19/how-i-set-up-a-twitter-archive-with-tweetback/" rel="alternate"></link><published>2022-12-19T10:40:00+00:00</published><updated>2022-12-19T10:40:00+00:00</updated><author><name>sil</name></author><id>tag:www.kryogenix.org,2022-12-19:/days/2022/12/19/how-i-set-up-a-twitter-archive-with-tweetback/</id><summary type="html">&lt;p&gt;Twitter currently has problems. Well, one specific problem, which is the bloke who bought it. My solution to this problem has been to move to Mastodon (&lt;a href="https://mastodon.social/@sil"&gt;@sil@mastodon.social&lt;/a&gt; if you want to do the same), but I&amp;#8217;ve invested fifteen years of my life providing twitter.com with free …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Twitter currently has problems. Well, one specific problem, which is the bloke who bought it. My solution to this problem has been to move to Mastodon (&lt;a href="https://mastodon.social/@sil"&gt;@sil@mastodon.social&lt;/a&gt; if you want to do the same), but I&amp;#8217;ve invested fifteen years of my life providing twitter.com with free content so I don&amp;#8217;t really want it to go away. Since there&amp;#8217;s a chance that the whole site might vanish, or that it continues on its current journey until I don&amp;#8217;t even want my name associated with it any more, it makes sense to have a backup. And obviously, I don&amp;#8217;t want all that lovely writing to disappear from the web (how would you all cope without me complaining about some random pub&amp;#8217;s music in 2011?!), so I wanted to have that backup published somewhere I control&amp;#8230; by which I mean my own&amp;nbsp;website.&lt;/p&gt;
&lt;p&gt;So, it would be nice to be able to download a list of all my tweets, and then turn that into some sort of website so it&amp;#8217;s all still available and published by&amp;nbsp;me.&lt;/p&gt;
&lt;p&gt;Fortunately, &lt;a href="https://www.zachleat.com/"&gt;Zach Leatherman&lt;/a&gt; came to save us by building a tool, &lt;a href="https://github.com/tweetback/tweetback"&gt;Tweetback&lt;/a&gt;, which does a lot of the heavy lifting on this. Nice one, that man. Here I&amp;#8217;ll describe how I used Tweetback to set up &lt;a href="https://kryogenix.org/twitter"&gt;my own personal Twitter archive&lt;/a&gt;. This is unavoidably a bit of a developer-ish process, involving the Terminal and so on; if you&amp;#8217;re not at least a little comfortable with doing that, this might not be for&amp;nbsp;you.&lt;/p&gt;
&lt;h1&gt;Step 1: get a backup from&amp;nbsp;Twitter&lt;/h1&gt;
&lt;p&gt;This part is mandatory. Twitter graciously permit you to download a big list of all the tweets you&amp;#8217;ve given them over the years, and you&amp;#8217;ll need it for this. As they describe in their &lt;a href="https://help.twitter.com/en/managing-your-account/how-to-download-your-twitter-archive"&gt;help page&lt;/a&gt;, go to your Twitter account settings and choose &lt;strong&gt;Your account &amp;gt; Download an archive of your data&lt;/strong&gt;. You&amp;#8217;ll have to confirm your identity and then say &lt;strong&gt;Request data&lt;/strong&gt;. They then go away and start constructing an archive of all your Twitter stuff. This can take a couple of days; they send you an email when it&amp;#8217;s done, and you can follow the link in that email to download a zip file. This is your Twitter backup; it contains all your tweets (and some other stuff). Stash it somewhere; you&amp;#8217;ll need a file from it&amp;nbsp;shortly.&lt;/p&gt;
&lt;h1&gt;Step 2: get the &lt;a href="https://github.com/tweetback/tweetback"&gt;Tweetback&lt;/a&gt;&amp;nbsp;code&lt;/h1&gt;
&lt;p&gt;You&amp;#8217;ll need both node.js and git installed to do this. If you don&amp;#8217;t have node.js, go to &lt;a href="https://nodejs.org"&gt;nodejs.org&lt;/a&gt; and follow their instructions for how to download and install it for your computer. (This process can be fiddly; sorry about that. I suspect that most people reading this will already have node installed, but if you don&amp;#8217;t, hopefully you can manage it.) You&amp;#8217;ll also need git installed: &lt;a href="https://docs.github.com/en/get-started/quickstart/set-up-git"&gt;Github have some instructions on how to install git&lt;/a&gt; or Github Desktop, which should explain how to do this stuff if you don&amp;#8217;t already have it set&amp;nbsp;up.&lt;/p&gt;
&lt;p&gt;Now, you need to clone the &lt;a href="https://github.com/tweetback/tweetback"&gt;Tweetback repository&lt;/a&gt; from Github. On the command line, this looks like &lt;code&gt;git clone https://github.com/tweetback/tweetback.git&lt;/code&gt;; if you&amp;#8217;re using Github Desktop, follow their instructions to &lt;a href="https://docs.github.com/en/desktop/contributing-and-collaborating-using-github-desktop/adding-and-cloning-repositories/cloning-and-forking-repositories-from-github-desktop"&gt;clone a repository&lt;/a&gt;. This should give you the Tweetback code, in a folder on your computer. Make a note of where that folder&amp;nbsp;is.&lt;/p&gt;
&lt;h1&gt;Step 3: install the Tweetback&amp;nbsp;code&lt;/h1&gt;
&lt;p&gt;Open a Terminal on your machine and &lt;code&gt;cd&lt;/code&gt; into the Tweetback folder, wherever you put it. Now, run &lt;code&gt;npm install&lt;/code&gt; to install all of Tweetback&amp;#8217;s dependencies. Since you have node.js installed from above, this ought to just work. If it doesn&amp;#8217;t&amp;#8230; you get to debug a bit. Sorry about that. This should end up looking something like&amp;nbsp;this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ npm install
npm WARN deprecated @npmcli/move-file@1.1.2: This functionality has been moved to @npmcli/fs

added &lt;span class="m"&gt;347&lt;/span&gt; packages, and audited &lt;span class="m"&gt;348&lt;/span&gt; packages in 30s

&lt;span class="m"&gt;52&lt;/span&gt; packages are looking &lt;span class="k"&gt;for&lt;/span&gt; funding
  run &lt;span class="sb"&gt;`&lt;/span&gt;npm fund&lt;span class="sb"&gt;`&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; details

found &lt;span class="m"&gt;0&lt;/span&gt; vulnerabilities
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;Step 4: configure Tweetback with your tweet&amp;nbsp;archive&lt;/h1&gt;
&lt;p&gt;From here, you&amp;#8217;re following Tweetback&amp;#8217;s own &lt;span class="caps"&gt;README&lt;/span&gt; instructions: they&amp;#8217;re online at &lt;a href="https://github.com/tweetback/tweetback#usage"&gt;https://github.com/tweetback/tweetback#usage&lt;/a&gt; and also are in the &lt;span class="caps"&gt;README&lt;/span&gt; file in your current&amp;nbsp;directory.&lt;/p&gt;
&lt;p&gt;Open up the zip file you downloaded from Twitter, and get the &lt;code&gt;data/tweets.js&lt;/code&gt; file from it. Put that in the &lt;code&gt;database&lt;/code&gt; folder in your Tweetback folder, then edit that file to change &lt;code&gt;window.YTD.tweet.part0&lt;/code&gt; on the first line to &lt;code&gt;module.exports&lt;/code&gt;, as the &lt;span class="caps"&gt;README&lt;/span&gt; says. This means that your &lt;code&gt;database/tweets.js&lt;/code&gt; file will now have the first couple of lines look like&amp;nbsp;this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nx"&gt;module&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;exports&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
  &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;tweet&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now, run &lt;code&gt;npm run import&lt;/code&gt;. This will go through your &lt;code&gt;tweets.js&lt;/code&gt; file and load it all into a database, so it can be more easily read later on. You only need to do this step once. This will print a bunch of lines that look like &lt;code&gt;{ existingRecordsFound: 0, missingTweets: 122 }&lt;/code&gt;, and then a bunch of lines that look like &lt;code&gt;Finished count { count: 116 }&lt;/code&gt;, and then it&amp;#8217;ll finish. This should be &lt;em&gt;relatively&lt;/em&gt; quick, but if you&amp;#8217;ve got a lot of tweets (I have 68,000!) then it might take a little while. Get yourself a cup of tea and a couple of biscuits and it&amp;#8217;ll be done when you&amp;#8217;ve poured&amp;nbsp;it.&lt;/p&gt;
&lt;h1&gt;Step 5: Configure a subdirectory&amp;nbsp;(optional)&lt;/h1&gt;
&lt;p&gt;If you&amp;#8217;re setting up your own (sub)domain for your twitter archive, so it&amp;#8217;ll be at the root of the website (so, &lt;code&gt;https://twitter.example.com&lt;/code&gt; or whatever) then you can skip this step. However, if you&amp;#8217;re going to put your archive in its own directory, so it&amp;#8217;s &lt;em&gt;not&lt;/em&gt; at the root (which I did, for example, at &lt;a href="https://kryogenix.org/twitter/"&gt;kryogenix.org/twitter&lt;/a&gt;), then you need to tell your setup about&amp;nbsp;that.&lt;/p&gt;
&lt;p&gt;To do this, edit the file &lt;code&gt;eleventy.config.js&lt;/code&gt;, and at the end, before the closing &lt;code&gt;}&lt;/code&gt;, add a new line, so the end of the file looks like&amp;nbsp;this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;    &lt;span class="nx"&gt;eleventyConfig&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;addPlugin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;EleventyHtmlBasePlugin&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nx"&gt;pathPrefix&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;/twitter/&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The string &lt;code&gt;"/twitter/"&lt;/code&gt; should be whatever you want the path to the root of your Twitter archive to be, so if you&amp;#8217;re going to put it at &lt;code&gt;mywebsite.example.com/my-twitter-archive&lt;/code&gt;, set &lt;code&gt;pathPrefix&lt;/code&gt; to be &lt;code&gt;"/my-twitter-archive"&lt;/code&gt;. This is only a path, not a full &lt;span class="caps"&gt;URL&lt;/span&gt;; you do not need to fill in the domain where you&amp;#8217;ll be hosting this&amp;nbsp;here.&lt;/p&gt;
&lt;h1&gt;Step 6: add&amp;nbsp;metadata&lt;/h1&gt;
&lt;p&gt;As the Tweetback &lt;span class="caps"&gt;README&lt;/span&gt; describes, edit the file &lt;code&gt;_data/metadata.js&lt;/code&gt;. You&amp;#8217;ll want to change three values in here: &lt;code&gt;username&lt;/code&gt;, &lt;code&gt;homeLabel&lt;/code&gt;, and &lt;code&gt;homeURL&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;username&lt;/code&gt; is your Twitter username. Mine is &lt;code&gt;sil&lt;/code&gt;: yours isn&amp;#8217;t. Don&amp;#8217;t include the &lt;code&gt;@&lt;/code&gt; at the&amp;nbsp;beginning.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;homeLabel&lt;/code&gt; is the thing that appears in the top corner of your Twitter archive once generated; it will be a link to your own homepage. (Note: &lt;em&gt;not&lt;/em&gt; the homepage of this Twitter archive! This will be the text of a link which takes you out of the Twitter archive and to your own&amp;nbsp;home.)&lt;/p&gt;
&lt;p&gt;&lt;code&gt;homeURL&lt;/code&gt; is the full &lt;span class="caps"&gt;URL&lt;/span&gt; to your homepage. (This is &amp;#8220;https://kryogenix.org/&amp;#8221; for me, for example. It is the &lt;span class="caps"&gt;URL&lt;/span&gt; that &lt;code&gt;homeLabel&lt;/code&gt; links&amp;nbsp;to.)&lt;/p&gt;
&lt;p&gt;&lt;img src="https://kryogenix.org/random/tweetback-homelabel.png" alt=""&gt;&lt;/p&gt;
&lt;h1&gt;Step 7: (drum roll, please!) Build the&amp;nbsp;site&lt;/h1&gt;
&lt;p&gt;&lt;span class="caps"&gt;OK&lt;/span&gt;. Now you&amp;#8217;ve done all the setup. This step actually takes all of that and builds a website from all your&amp;nbsp;tweets.&lt;/p&gt;
&lt;p&gt;Run &lt;code&gt;npm run build&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;If you&amp;#8217;ve got a lot of tweets, this can take a &lt;em&gt;long&lt;/em&gt; time. It took me a couple of hours, I think, the first time I ran it. Subsequent runs take a lot less time (a couple of minutes for me, maybe even shorter for you if you&amp;#8217;re less mouthy on Twitter), but the first run takes &lt;em&gt;ages&lt;/em&gt; because it has to fetch all the images for all the tweets you&amp;#8217;ve ever written. You&amp;#8217;ll want a second cup of tea here, and perhaps&amp;nbsp;dinner.&lt;/p&gt;
&lt;p&gt;It should look something like&amp;nbsp;this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ npm run build

&amp;gt; tweetback@1.0.0 build
&amp;gt; npx @11ty/eleventy --quiet

&lt;span class="o"&gt;[&lt;/span&gt;11ty&lt;span class="o"&gt;]&lt;/span&gt; Copied &lt;span class="m"&gt;1868&lt;/span&gt; files / Wrote &lt;span class="m"&gt;68158&lt;/span&gt; files in &lt;span class="m"&gt;248&lt;/span&gt;.58 seconds &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;.6ms each, v2.0.0-canary.18&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;You may get errors in here about being unable to fetch URLs (&lt;code&gt;Image request error Bad response for https://pbs.twimg.com/media/C1VJJUVXEAE3VGE.jpg (404): Not Found&lt;/code&gt; and the like); this is because some Tweets link to images that aren&amp;#8217;t there any more. There&amp;#8217;s not a lot you can do about this, but it doesn&amp;#8217;t stop the rest of the site&amp;nbsp;building.&lt;/p&gt;
&lt;p&gt;Once this is all done, you should have a directory called &lt;code&gt;_site&lt;/code&gt;, which is a website containing your Twitter archive! Hooray! Now you publish that directory, however you choose: copy it up to your website, push it to &lt;a href="https://github.com/tweetback/tweetback/blob/main/docs/deploy-with-github-pages.md"&gt;github pages&lt;/a&gt; or Netlify or whatever. You only need the contents of the &lt;code&gt;_site&lt;/code&gt; directory; that&amp;#8217;s your whole Twitter archive website, completely self-contained; all the other stuff is only used for generating the archive website, not for running it once it&amp;#8217;s&amp;nbsp;generated.&lt;/p&gt;
&lt;h1&gt;Step 8: updating the site with newer tweets&amp;nbsp;(optional)&lt;/h1&gt;
&lt;p&gt;If you&amp;#8217;re still using Twitter, you may post more Tweets after your downloadable archive was generated. If so, it&amp;#8217;d be nice to update the archive with the contents of those tweets without having to request a full archive from Twitter and wait two days. Fortunately, this is possible. Unfortunately, you gotta do some hoop-jumping to get&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;You see, to do this, you need access to the Twitter &lt;span class="caps"&gt;API&lt;/span&gt;. In the old days, people built websites with an &lt;span class="caps"&gt;API&lt;/span&gt; because they wanted to encourage others to interact with that website programmatically as well as in a browser: you built an ecosystem, right? But Twitter are not like that; they don&amp;#8217;t really want you to interact with their stuff unless they like what you&amp;#8217;re doing. So you have to apply for permission to be a Twitter developer in order to use the &lt;span class="caps"&gt;API&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;To do this, as the Tweetback readme says, you will need a Twitter bearer token. To get one of those, you need to be a Twitter developer, and to be that, you have to fill in a bunch of forms and ask for permission and be manually reviewed. Twitter&amp;#8217;s documentation explains about &lt;a href="https://developer.twitter.com/en/docs/authentication/oauth-2-0/bearer-tokens"&gt;bearer tokens&lt;/a&gt;, and explains that you need to sign up for a Twitter developer account to get them. Go ahead and do that. This is an annoying process where they ask a bunch of questions about what you plan to do with the Twitter &lt;span class="caps"&gt;API&lt;/span&gt;, and then you wait until someone manually reviews your answers and decides whether to grant you access or not, and possibly makes you clarify your answers to questions. I have no good suggestions here; go through the process and wait.&amp;nbsp;Sorry.&lt;/p&gt;
&lt;p&gt;Once you are a Twitter developer, create an app, and then get its bearer token. You only get this once, so be sure to make a note of it. In a clear allusion to the delight that this whole process brings to users, it probably will begin by screaming &lt;code&gt;AAAAAAAAAAAAAAA&lt;/code&gt; and then look like a bunch of incomprehensible&amp;nbsp;gibberish.&lt;/p&gt;
&lt;p&gt;Now to pull in new data,&amp;nbsp;run:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nv"&gt;TWITTER_BEARER_TOKEN&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;AAAAAAAAAAAAAAAAAAq3874nh93q npm run fetch-new-data
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;(substituting in the value of your token, of course, which will be&amp;nbsp;longer.)&lt;/p&gt;
&lt;p&gt;This will fetch any tweets that aren&amp;#8217;t in the database because you made them since! And then run &lt;code&gt;npm run build&lt;/code&gt; again to rebuild the &lt;code&gt;_site&lt;/code&gt; directory, and re-publish it&amp;nbsp;all.&lt;/p&gt;
&lt;p&gt;I personally run these steps (&lt;code&gt;fetch-new-data&lt;/code&gt;, then &lt;code&gt;build&lt;/code&gt;, then publish) daily in a cron job, which runs a script with contents&amp;nbsp;(approximately):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="ch"&gt;#!/bin/bash&lt;/span&gt;
&lt;span class="nb"&gt;cd&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;dirname &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$0&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;

&lt;span class="nb"&gt;echo&lt;/span&gt; Begin publish at &lt;span class="k"&gt;$(&lt;/span&gt;date&lt;span class="k"&gt;)&lt;/span&gt;

&lt;span class="nb"&gt;echo&lt;/span&gt; Updating Twitter archive
&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="o"&gt;========================&lt;/span&gt;
&lt;span class="nv"&gt;TWITTER_BEARER_TOKEN&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;AAAAAAAAAAAAAA9mh8j9808jhey9w34cvj3g3 npm run fetch-new-data &lt;span class="m"&gt;2&lt;/span&gt;&amp;gt;&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;

&lt;span class="nb"&gt;echo&lt;/span&gt; Updating site from archive
&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="o"&gt;==========================&lt;/span&gt;
npm run build &lt;span class="m"&gt;2&lt;/span&gt;&amp;gt;&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;

&lt;span class="nb"&gt;echo&lt;/span&gt; Publishing site
&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="o"&gt;===============&lt;/span&gt;
rsync -e &lt;span class="s2"&gt;&amp;quot;ssh&amp;quot;&lt;/span&gt; -az _site/ kryogenix.org:public_html/twitter &lt;span class="m"&gt;2&lt;/span&gt;&amp;gt;&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;

&lt;span class="nb"&gt;echo&lt;/span&gt; Finish publish at &lt;span class="k"&gt;$(&lt;/span&gt;date&lt;span class="k"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;but how you publish and rebuild, and how often you do that, is of course up to&amp;nbsp;you.&lt;/p&gt;
&lt;h1&gt;Step 9: improve the archive (optional, but&amp;nbsp;good)&lt;/h1&gt;
&lt;p&gt;What Tweetback actually &lt;em&gt;does&lt;/em&gt; is use your twitter backup to build an &lt;a href="https://www.11ty.dev/"&gt;11ty&lt;/a&gt; static website. (This is not all that surprising, since 11ty is also Zach&amp;#8217;s static site builder.) This means that if you&amp;#8217;re into 11ty you could make the archive better and more comprehensive by adding stuff. There are already some neat graphs of most popular tweets, most recent tweets, the emoji you use a lot (sigh) and so on; if you find things that you wish that your Twitter archive contained, &lt;a href="https://github.com/tweetback/tweetback/issues"&gt;file an issue&lt;/a&gt; with Tweetback, or better still write the change and submit it back so everyone gets&amp;nbsp;it!&lt;/p&gt;
&lt;h1&gt;Step 10: add yourself to the list of people using the archive (optional, but you know you&amp;nbsp;wanna)&lt;/h1&gt;
&lt;p&gt;Go to &lt;a href="https://github.com/tweetback/tweetback-canonical"&gt;tweetback/tweetback-canonical&lt;/a&gt; and add yourself to the &lt;code&gt;mapping.js&lt;/code&gt; file. What&amp;#8217;s neat about this is that that file is used by tweetback itself. This means that if someone else with a Tweetback archive has a tweet which links to one of &lt;em&gt;your&lt;/em&gt; Tweets, now their archive will link to your archive directly instead! It&amp;#8217;s not just a bunch of separate sites, it&amp;#8217;s a bunch of sites all of which are connected! Lots of connections between sites without any central authority! We could call this a collection of connections. Or a pile of connections. Or&amp;#8230; a &lt;em&gt;web&lt;/em&gt;!&lt;/p&gt;
&lt;p&gt;That&amp;#8217;s a good idea. Someone should do something with that&amp;nbsp;concept.&lt;/p&gt;
&lt;h1&gt;Step 11: big hugs for&amp;nbsp;Zach&lt;/h1&gt;
&lt;p&gt;You may, or may not, want to get off Twitter. Maybe you&amp;#8217;re looking to get as far away as possible; maybe you just don&amp;#8217;t want to lose the years of investment you&amp;#8217;ve put in. But it&amp;#8217;s never a bad thing to have your data under your control when you can. Tweetback helps make that happen. Cheers to Zach and the other contributors for creating it, so the rest of us didn&amp;#8217;t have to. Tell them thank&amp;nbsp;you.&lt;/p&gt;</content><category term="General musings"></category></entry><entry><title>Transferring to a new phone network, 2022 edition</title><link href="https://www.kryogenix.org/days/2022/12/06/transferring-to-a-new-phone-network-2022-edition/" rel="alternate"></link><published>2022-12-06T15:37:00+00:00</published><updated>2022-12-06T15:37:00+00:00</updated><author><name>sil</name></author><id>tag:www.kryogenix.org,2022-12-06:/days/2022/12/06/transferring-to-a-new-phone-network-2022-edition/</id><summary type="html">&lt;p&gt;Some posts are written so there’s an audience. Some are written to be informative, or amusing. And some are literally just documentation for me which nobody else will care about. This is one of those.&lt;/p&gt;
&lt;p&gt;I’ve moved phone network. I’ve been with Three for years, but they …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Some posts are written so there’s an audience. Some are written to be informative, or amusing. And some are literally just documentation for me which nobody else will care about. This is one of those.&lt;/p&gt;
&lt;p&gt;I’ve moved phone network. I’ve been with Three for years, but they came up with an extremely annoying new tactic, and so they must be punished. You see, I had an account with &lt;span class="caps"&gt;4GB&lt;/span&gt; of data usage per month for about £15pm, and occasionally I’d go over that; a couple of times a year at most. That’s &lt;span class="caps"&gt;OK&lt;/span&gt;: I don’t mind buying some sort of “data booster” thing to give me an extra gig for the last few days before the next bill; seems reasonable.&lt;/p&gt;
&lt;p&gt;But Three changed things. Now, you see, you can’t buy a booster to give yourself a bit of data until the end of the month. No, you have to buy a booster which gives you extra data &lt;em&gt;every&lt;/em&gt; month, and then three days later when you’re in the new month, cancel it. There’s no way to just get the data for now.&lt;sup id="sf-transferring-to-a-new-phone-network-2022-edition-1-back"&gt;&lt;a href="#sf-transferring-to-a-new-phone-network-2022-edition-1" class="simple-footnote" title="Well, there is: you can spend twenty actual pounds to get unlimited data until the end of the month. But that’s loads of money."&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;p&gt;This is aggressively customer-hostile. There’s literally no reason to do this other than to screw people who forget to cancel it. Sure, have an option to buy a “permanent top-up”, no arguments with that. But there should also be an option to buy a temporary top-up, just once! There used to be!&lt;/p&gt;
&lt;p&gt;I was vaguely annoyed with Three for general reasons anyway — they got rid of free &lt;span class="caps"&gt;EU&lt;/span&gt; roaming, they are unhelpful when you ask questions, etc — and so I was vaguely considering moving away regardless. But this was the straw that broke the camel’s back.&lt;sup id="sf-transferring-to-a-new-phone-network-2022-edition-2-back"&gt;&lt;a href="#sf-transferring-to-a-new-phone-network-2022-edition-2" class="simple-footnote" title="is there an actual camel whose back was broken in some fable somewhere? this is a terribly unfortunate metaphor!"&gt;2&lt;/a&gt;&lt;/sup&gt; So… time to look around.&lt;/p&gt;
&lt;p&gt;I asked the Mastodon gang for suggestions, and I got lots, which is useful. Thank you for that, all.&lt;/p&gt;
&lt;p&gt;The main three I got were Smarty, iD, and Giffgaff. Smarty are Three themselves in a posh frock, so that’s no good; the whole point of bailing is to leave Three. Giffgaff are great, and I’ve been hearing about their greatness for years, not least from &lt;a href="https://popey.com"&gt;popey&lt;/a&gt;, but they don’t do WiFi Calling, so they’re a no-no.&lt;sup id="sf-transferring-to-a-new-phone-network-2022-edition-3-back"&gt;&lt;a href="#sf-transferring-to-a-new-phone-network-2022-edition-3" class="simple-footnote" title="Coverage in my flat — for any network — is rubbish. So wifi calling is a hard requirement. I don’t know why this is — I’m in the city! Maybe the walls all have copper wiring in them like the room that Elodin was imprisoned in, I don’t know"&gt;3&lt;/a&gt;&lt;/sup&gt; And &lt;a href="https://www.idmobile.co.uk/"&gt;iD mobile&lt;/a&gt; looked pretty good. (All these new “&lt;span class="caps"&gt;MVNO&lt;/span&gt;” types of thing seem quite a lot cheaper than “traditional” phone operators. Don’t know why. Hooray, though.)&lt;/p&gt;
&lt;p&gt;So off I went to iD, and signed up for a 30-day rolling &lt;span class="caps"&gt;SIM&lt;/span&gt;-only deal&lt;sup id="sf-transferring-to-a-new-phone-network-2022-edition-4-back"&gt;&lt;a href="#sf-transferring-to-a-new-phone-network-2022-edition-4" class="simple-footnote" title="I always buy my own phones, so I only ever need a SIM, and I don’t like being locked in"&gt;4&lt;/a&gt;&lt;/sup&gt;. £7 per month. &lt;span class="caps"&gt;12GB&lt;/span&gt; of data. I mean, crikey, that’s quite a lot better than before.&lt;/p&gt;
&lt;p&gt;I need to keep my phone number, though, so I had to transfer it between networks. To do this, you need a “&lt;span class="caps"&gt;PAC&lt;/span&gt;” code from your old network, and you supply it to the new one. All my experience of dealing with phone operators is from the Old Days, and back then you had to grovel to get a &lt;span class="caps"&gt;PAC&lt;/span&gt; and your current phone network would do their best to talk you out of it. Fortunately, the iron hand of government regulation has put a stop to these sorts of shenanigans now (the &lt;span class="caps"&gt;UK&lt;/span&gt; has a &lt;a href="https://www.gov.uk/government/organisations/competition-and-markets-authority"&gt;good tech regulator, the Competition and Markets Authority&lt;/a&gt;&lt;sup id="sf-transferring-to-a-new-phone-network-2022-edition-5-back"&gt;&lt;a href="#sf-transferring-to-a-new-phone-network-2022-edition-5" class="simple-footnote" title="we, meaning Open Web Advocacy, have worked extensively with the CMA (and other regulators around the world) about assisting and requiring mobile phone manufacturers to provide browser diversity — that is, to make it so you can use web apps on your phone that are as capable as platform-specific apps, and the CMA are great"&gt;5&lt;/a&gt;&lt;/sup&gt;) and you can get a &lt;span class="caps"&gt;PAC&lt;/span&gt;, no questions asked, by sending an &lt;span class="caps"&gt;SMS&lt;/span&gt; with content “&lt;span class="caps"&gt;PAC&lt;/span&gt;” to 65075. Hooray. So, iD mobile sent me a new &lt;span class="caps"&gt;SIM&lt;/span&gt; in the post, and I got the &lt;span class="caps"&gt;PAC&lt;/span&gt; from Three, and then I told iD about the &lt;span class="caps"&gt;PAC&lt;/span&gt; (on the website: no person required), and they said (on the website), ok, we’ll do the switch in a couple of working days.&lt;/p&gt;
&lt;p&gt;However, the &lt;span class="caps"&gt;SIM&lt;/span&gt; has some temporary number on it. Today, my Three account stopped working (indicating that Three had received and handled their end of the deal by turning off my account), and so I dutifully popped out the Three &lt;span class="caps"&gt;SIM&lt;/span&gt; from my phone&lt;sup id="sf-transferring-to-a-new-phone-network-2022-edition-6-back"&gt;&lt;a href="#sf-transferring-to-a-new-phone-network-2022-edition-6" class="simple-footnote" title="removing a SIM tray is harder than it looks when you don’t wear earrings. I had to search everywhere to find one of those little SIM tools"&gt;6&lt;/a&gt;&lt;/sup&gt; and put in the new one.&lt;/p&gt;
&lt;p&gt;But! Alas! My phone thought that it had the temporary number!&lt;/p&gt;
&lt;p&gt;I think this is because Three process their (departing) end, there’s an interregnum, and then iD process their (arriving) end, and I was in the interregnum. I do not know what would have happened if someone rang my actual phone number during this period. Hopefully nobody did. I waited a few hours — the data connection worked fine on my phone, but it had the wrong number — and then I turned the phone off and left it off for ten minutes or so. Then… I turned it back on, and… pow! My proper number is mine again! Hooray!&lt;/p&gt;
&lt;p&gt;That ought to have been the end of it. However, I have an Apple phone. So, in Settings &amp;gt; Phone &amp;gt; My Number, it was still reading the temporary number. Similarly, in Settings &amp;gt; Messages &amp;gt; iMessage &amp;gt; Send and Receive, it was also still reading the temporary number.&lt;/p&gt;
&lt;p&gt;How inconvenient.&lt;/p&gt;
&lt;p&gt;Some combination of the following fixed that. I’m not sure exactly what is required to fix it: I did all this, some more than once, in some random order, and now it seems &lt;span class="caps"&gt;OK&lt;/span&gt;: powering the phone off and on again; disabling iMessage and re-enabling it; disabling iMessage, waiting a few minutes, and then re-enabling it; disabling iMessage, powering off the phone, powering it back on again, and re-enabling it; editing the phone number in My Number (which didn’t seem to have any actual effect); doing a full network reset (Settings &amp;gt; General &amp;gt; Transfer or Reset Device &amp;gt; Reset &amp;gt; Reset Network Settings). Hopefully that’ll help you too.&lt;/p&gt;
&lt;p&gt;Finally, there was voicemail. Some years ago, I set up an account with &lt;a href="https://sipgate.com"&gt;Sipgate&lt;/a&gt;, where I get a phone number and voicemail. The thing I like about this is that when I get voicemail on that number, it emails me an mp3 of the voicemail. This is wholly brilliant, and phone companies don’t do it; I’m not interested in ringing some number and then pressing buttons to navigate the horrible menu, and “visual voicemail” never took off and never became an open standard thing anyway. So my sipgate thing is brilliant. But… how do I tell my phone to forward calls to my sipgate number if I don’t answer? I did this once, about 10 years ago, and I couldn’t remember how. A judicious bit of web searching later, and I have the answer.&lt;/p&gt;
&lt;p&gt;One uses a few Secret Network Codes to do this. It’s called “call diversion” or “call forwarding”, and you do it by typing a magic number into your phone dialler, as though you were ringing it as a number. So, let’s say your sipgate number is 0121 496 0000. Open up the phone dialler, and dial &lt;code&gt;*61*01214960000#&lt;/code&gt; and press dial. That magic code, &lt;code&gt;*61&lt;/code&gt;, sets your number to divert if you don’t answer it. Do it again with &lt;code&gt;*62&lt;/code&gt; to also divert calls when your phone is switched off. You can also do it again with &lt;code&gt;*67&lt;/code&gt; to divert calls when your phone is engaged, but I don’t do that; I want those to come through where the phone can let me switch calls.&lt;/p&gt;
&lt;p&gt;And that’s how I moved phone networks. Stuart, ten years from now when you read this again, now you know how to do it. You’re welcome.&lt;/p&gt;&lt;ol class="simple-footnotes"&gt;&lt;li id="sf-transferring-to-a-new-phone-network-2022-edition-1"&gt;Well, there is: you can spend twenty actual pounds to get unlimited data until the end of the month. But that’s loads of money. &lt;a href="#sf-transferring-to-a-new-phone-network-2022-edition-1-back" class="simple-footnote-back"&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;li id="sf-transferring-to-a-new-phone-network-2022-edition-2"&gt;is there an actual camel whose back was broken in some fable somewhere? this is a terribly unfortunate metaphor! &lt;a href="#sf-transferring-to-a-new-phone-network-2022-edition-2-back" class="simple-footnote-back"&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;li id="sf-transferring-to-a-new-phone-network-2022-edition-3"&gt;Coverage in my flat — for any network — is rubbish. So wifi calling is a hard requirement. I don’t know why this is — I’m in the city! Maybe the walls all have copper wiring in them like the room that Elodin was imprisoned in, I don’t know &lt;a href="#sf-transferring-to-a-new-phone-network-2022-edition-3-back" class="simple-footnote-back"&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;li id="sf-transferring-to-a-new-phone-network-2022-edition-4"&gt;I always buy my own phones, so I only ever need a &lt;span class="caps"&gt;SIM&lt;/span&gt;, and I don’t like being locked in &lt;a href="#sf-transferring-to-a-new-phone-network-2022-edition-4-back" class="simple-footnote-back"&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;li id="sf-transferring-to-a-new-phone-network-2022-edition-5"&gt;we, meaning &lt;a href="https://open-web-advocacy.org/"&gt;Open Web Advocacy&lt;/a&gt;, have worked extensively with the &lt;span class="caps"&gt;CMA&lt;/span&gt; (and other regulators around the world) about assisting and requiring mobile phone manufacturers to provide browser diversity — that is, to make it so you can use web apps on your phone that are as capable as platform-specific apps, and the &lt;span class="caps"&gt;CMA&lt;/span&gt; are great &lt;a href="#sf-transferring-to-a-new-phone-network-2022-edition-5-back" class="simple-footnote-back"&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;li id="sf-transferring-to-a-new-phone-network-2022-edition-6"&gt;removing a &lt;span class="caps"&gt;SIM&lt;/span&gt; tray is harder than it looks when you don’t wear earrings. I had to search &lt;em&gt;everywhere&lt;/em&gt; to find one of those little &lt;span class="caps"&gt;SIM&lt;/span&gt; tools &lt;a href="#sf-transferring-to-a-new-phone-network-2022-edition-6-back" class="simple-footnote-back"&gt;↩&lt;/a&gt;&lt;/li&gt;&lt;/ol&gt;</content><category term="General musings"></category></entry><entry><title>Don’t Read Off The Screen</title><link href="https://www.kryogenix.org/days/2022/10/18/don-t-read-off-the-screen/" rel="alternate"></link><published>2022-10-18T10:11:00+01:00</published><updated>2022-10-18T10:11:00+01:00</updated><author><name>sil</name></author><id>tag:www.kryogenix.org,2022-10-18:/days/2022/10/18/don-t-read-off-the-screen/</id><summary type="html">&lt;style&gt;
.yt-drots-container {
    position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%;
} 
.yt-drots-container iframe, .yt-drots-container object, .yt-drots-container embed {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
}
&lt;/style&gt;

&lt;p&gt;Hear this talk performed (with appropriate background&amp;nbsp;music):&lt;/p&gt;
&lt;div class="yt-drots-container"&gt;&lt;iframe src="https://www.youtube-nocookie.com/embed/VvmIhMKN584" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen&gt;&lt;/iframe&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;p&gt;Friends and enemies, attendees of &lt;a href="https://conf.techmids.io"&gt;Tech Mids 2022&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Don&amp;#8217;t read off the&amp;nbsp;screen …&lt;/p&gt;</summary><content type="html">&lt;style&gt;
.yt-drots-container {
    position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%;
} 
.yt-drots-container iframe, .yt-drots-container object, .yt-drots-container embed {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
}
&lt;/style&gt;

&lt;p&gt;Hear this talk performed (with appropriate background&amp;nbsp;music):&lt;/p&gt;
&lt;div class="yt-drots-container"&gt;&lt;iframe src="https://www.youtube-nocookie.com/embed/VvmIhMKN584" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen&gt;&lt;/iframe&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;p&gt;Friends and enemies, attendees of &lt;a href="https://conf.techmids.io"&gt;Tech Mids 2022&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Don&amp;#8217;t read off the&amp;nbsp;screen.&lt;/p&gt;
&lt;p&gt;If I could offer you only one piece of advice for why and how you should speak in public, don&amp;#8217;t read off the screen would be it. Reading your slides out is guaranteed to make your talk boring, whereas the rest of my advice has no basis in fact other than my own experience, and the million great people who gave me &lt;a href="https://twitter.com/sil/status/1575776932670709760"&gt;thoughts&lt;/a&gt; on&amp;nbsp;Twitter.&lt;/p&gt;
&lt;p&gt;I shall dispense this advice&amp;#8230;&amp;nbsp;now.&lt;/p&gt;
&lt;p&gt;Every meetup in every town is crying out for speakers, and your voice is valuable. Tell people your story. The way you see things is unique, just like everybody&amp;nbsp;else.&lt;/p&gt;
&lt;p&gt;Everybody gets nervous about speaking sometimes. Anybody claiming that they don&amp;#8217;t is either lying, or trying to sell you something. If you&amp;#8217;re nervous, consider that its a mark of wanting to do a good&amp;nbsp;job.&lt;/p&gt;
&lt;p&gt;Don&amp;#8217;t start by planning what you want to say. Plan what you want people to hear. Then work backwards from there to find out what to say to make that&amp;nbsp;happen.&lt;/p&gt;
&lt;p&gt;You can do this. The audience are on your&amp;nbsp;side.&lt;/p&gt;
&lt;p&gt;Find your own style. Take bits and pieces from others and make them something of your&amp;nbsp;own.&lt;/p&gt;
&lt;p&gt;Slow down. Breathe. You&amp;#8217;re going faster than it feels like you&amp;nbsp;are.&lt;/p&gt;
&lt;p&gt;Pee beforehand. If you have a trouser fly, check&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;If someone tells you why you should speak, take their words with a pinch of salt, me included. If they tell you how to speak, take two pinches. But small tips are born of someone else&amp;#8217;s bad experience. When they say to use a lapel mic, or drink water, or to have a backup, then listen; they had their bad day so that you didn&amp;#8217;t have&amp;nbsp;to.&lt;/p&gt;
&lt;p&gt;Don&amp;#8217;t put up with rambling opinions from questioners. If they have a comment rather than a question, then they should have applied to do a talk themselves. You were asked to be here. Be proud of&amp;nbsp;that.&lt;/p&gt;
&lt;p&gt;Practice. And then practice again, and again. If you think you&amp;#8217;ve rehearsed enough, you&amp;nbsp;haven&amp;#8217;t.&lt;/p&gt;
&lt;p&gt;Speak inclusively, so that none of your audience feels that the talk wasn&amp;#8217;t for&amp;nbsp;them.&lt;/p&gt;
&lt;p&gt;Making things look unrehearsed takes a lot of&amp;nbsp;rehearsal.&lt;/p&gt;
&lt;p&gt;Some people script their talks, some people don&amp;#8217;t. Whether you prefer bullet points or a soliloquy is up to you. Whichever you choose, remember: don&amp;#8217;t just read out your notes. Your talk is a performance, not a&amp;nbsp;recital.&lt;/p&gt;
&lt;p&gt;Nobody knows if you make a mistake. Carry on, and correct it when you can. But keep things simple. Someone drowning in information finds it hard to&amp;nbsp;listen.&lt;/p&gt;
&lt;p&gt;Live demos anger the gods of speaking. If you can avoid a live demo, do so. Record it in advance, or prep it so that it looks live. Nobody minds at&amp;nbsp;all.&lt;/p&gt;
&lt;p&gt;Don&amp;#8217;t do a talk only&amp;nbsp;once.&lt;/p&gt;
&lt;p&gt;Acting can be useful, if that&amp;#8217;s the style you like. Improv classes, stage presence, how you stand and what you do with your hands, all of this can be taught. But put your shoulders back and you&amp;#8217;ve got about half of&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;Carry your own &lt;span class="caps"&gt;HDMI&lt;/span&gt; adapter and have a backup copy of your talk. Your technology will betray you if it gets a&amp;nbsp;chance.&lt;/p&gt;
&lt;p&gt;Record your practices and watch yourself back. It can be a humbling experience, but you are your own best teacher, if you&amp;#8217;re willing to&amp;nbsp;listen.&lt;/p&gt;
&lt;p&gt;Try to have a star moment: something that people will remember about what you said and the way you said it. Whether that&amp;#8217;s a surprising truth or an excellent joke or a weird gimmick, your goal is to have people walk away remembering what you said. Help them to do&amp;nbsp;that.&lt;/p&gt;
&lt;p&gt;Now, go do talks. I&amp;#8217;m Stuart Langridge, and you aren&amp;#8217;t. So do your talk, your&amp;nbsp;way.&lt;/p&gt;
&lt;p&gt;But trust me: don&amp;#8217;t read off the&amp;nbsp;screen.&lt;/p&gt;</content><category term="General musings"></category></entry><entry><title>Farmbound, or how I built an app in 2022</title><link href="https://www.kryogenix.org/days/2022/08/31/farmbound-or-how-i-built-an-app-in-2022/" rel="alternate"></link><published>2022-08-31T12:56:00+01:00</published><updated>2022-08-31T12:56:00+01:00</updated><author><name>sil</name></author><id>tag:www.kryogenix.org,2022-08-31:/days/2022/08/31/farmbound-or-how-i-built-an-app-in-2022/</id><summary type="html">&lt;p&gt;So, I made a game. It&amp;#8217;s called &lt;a href="https://kryogenix.org/farmbound"&gt;Farmbound&lt;/a&gt;. It&amp;#8217;s a puzzle; you get a sequence of farm things &amp;#8212; seeds, crops, knives, water &amp;#8212; and they combine to make better items and to give you points. Knives next to crops and fields continually harvest them for points; seeds combine to …&lt;/p&gt;</summary><content type="html">&lt;p&gt;So, I made a game. It&amp;#8217;s called &lt;a href="https://kryogenix.org/farmbound"&gt;Farmbound&lt;/a&gt;. It&amp;#8217;s a puzzle; you get a sequence of farm things &amp;#8212; seeds, crops, knives, water &amp;#8212; and they combine to make better items and to give you points. Knives next to crops and fields continually harvest them for points; seeds combine to make crops which combine to make fields; water and manure grow a seed into a crop and a crop into a field. Think of it like a cross between a match-3 game and Little Alchemy. The wrinkle is that the sequence of items you get is the same for the whole day: if you play again, you&amp;#8217;ll get the same things in the same order, so you can learn and refine your strategy. It&amp;#8217;s rather fun: &lt;a href="https://kryogenix.org/farmbound"&gt;give it a try&lt;/a&gt;.&lt;/p&gt;
&lt;figure&gt;
    &lt;figcaption&gt;Farmbound, on a mobile, in light mode&lt;/figcaption&gt;
    &lt;img src="https://kryogenix.org/random/farmbound-lightmode-mobile.png" alt=""&gt;
&lt;/figure&gt;

&lt;p&gt;It&amp;#8217;s a web app. Works for everyone. And I thought it would be useful to explain why it is, why I think that&amp;#8217;s the way to do things, and some of the interesting parts of building an app for everyone to play which is delivered over the web rather than via app stores and&amp;nbsp;downloads.&lt;/p&gt;
&lt;h3&gt;Why&amp;#8217;s it a web app and not a platform-specific native&amp;nbsp;app?&lt;/h3&gt;
&lt;p&gt;Well, there are a bunch of practical reasons. You get completely immediate play with a web app; someone taps on a share link, and they&amp;#8217;re playing. No installation, no platform detection, it Just Works (to coin a phrase which nobody has ever used before about apps ever in the history of technology). And for something like this, an app with platform-specific code isn&amp;#8217;t needed: sure, if you&amp;#8217;re talking to some hardware devices, or doing low-level device fiddling or operating system integration, you might need to build and deliver something separately to each platform. But Farmbound is not that. There is nothing that Farmbound needs that requires a native app (well, nearly nothing, and see later). So it isn&amp;#8217;t&amp;nbsp;one.&lt;/p&gt;
&lt;p&gt;There are some benefits for me as the developer, too. Such things are less important; the people playing are the important ones. But if I can make things nicer for myself without making them worse for players, then I&amp;#8217;m going to do it. Obviously there&amp;#8217;s only one codebase. (For platform-specific apps that can be alleviated a little with cross-platform frameworks, some of which are &lt;span class="caps"&gt;OK&lt;/span&gt; these days.) One still needs to test across platforms, though, so that&amp;#8217;s not a huge benefit. On the other hand, I don&amp;#8217;t have to pay extra to distribute it (beyond it being on my website, which I&amp;#8217;d be paying for anyway), and importantly I don&amp;#8217;t have to &lt;em&gt;keep&lt;/em&gt; paying in order to keep my game available for ever. There&amp;#8217;s no annual tithe required. There&amp;#8217;s no review process. I also get support for minority platforms by publishing on the web&amp;#8230; and I&amp;#8217;m not really talking about something in use by a half-dozen people here. I&amp;#8217;m talking about desktop computers. How many people building a native app, even a relatively simple puzzle game like this, make a build for iOS and Android &lt;em&gt;and&lt;/em&gt; Windows and Mac and Linux? Not many. The web gets me all that for minimal extra work, and if someone on FreeBSD or KaiOS wants to play, they can, as long as they&amp;#8217;ve got a modern browser. (People saying &amp;#8220;what about those without modern browsers&amp;#8221;&amp;#8230; see&amp;nbsp;below.)&lt;/p&gt;
&lt;p&gt;But from a less practical and more philosophical point of view&amp;#8230; I shouldn&amp;#8217;t &lt;em&gt;need&lt;/em&gt; to build a platform-specific native app to make a game like this. We want a world where anyone can build and publish an app without having to ask permission, right? I shouldn&amp;#8217;t need to go through a review process or be beholden to someone else deciding whether to publish my game. &lt;a href="https://scribe.rip/m/global-identity?redirectUrl=https%3A%2F%2Fjavascript.plainenglish.io%2Fi-replaced-my-native-ios-app-with-a-cross-platform-web-app-and-no-one-noticed-1653901ce244"&gt;The web works.&lt;/a&gt; Would Wordle have become so popular if you had to download a Windows app or wait for review before an update happened? I doubt it. I used to say that if you&amp;#8217;re building something complex like Photoshop then maybe go native, but in a world with Figma in it, that maybe doesn&amp;#8217;t apply any more, and so Adobe listened to that and now &lt;a href="https://helpx.adobe.com/uk/photoshop/using/photoshop-web-faq.html"&gt;Photoshop &lt;em&gt;is&lt;/em&gt; on the web&lt;/a&gt;. Give people a thing which doesn&amp;#8217;t need installation, gets them playing straight away, and works everywhere? Sounds good to me. Farmbound&amp;#8217;s a web&amp;nbsp;app.&lt;/p&gt;
&lt;h3&gt;Why&amp;#8217;s it not got its own domain, then, if it&amp;#8217;s on the&amp;nbsp;web?&lt;/h3&gt;
&lt;p&gt;Farmbound shouldn&amp;#8217;t need its own domain, I don&amp;#8217;t think. If people find out about it, it&amp;#8217;ll likely be by shared links showing off how someone else did, which means they click the link. If it&amp;#8217;s popular then it&amp;#8217;ll be top hit for its own name (if it isn&amp;#8217;t, the Google people need to have a serious talk with themselves), and if it isn&amp;#8217;t popular then it doesn&amp;#8217;t matter. And, like native app building, I don&amp;#8217;t really want to be on the hook forever for paying for a domain; sure, it&amp;#8217;s not much money, but it&amp;#8217;s still annoying that I&amp;#8217;m paying for a couple of ideas that I had a decade ago and which nobody cares about any more. I can&amp;#8217;t drop them, because of course &lt;a href="https://www.w3.org/Provider/Style/URI"&gt;cool URIs don&amp;#8217;t change&lt;/a&gt;, and I didn&amp;#8217;t want to be thinking a decade from now, do I still need to pay for&amp;nbsp;this?&lt;/p&gt;
&lt;p&gt;In slightly more ego-driven terms, it being on my website means I get the credit, too. Plus, I quite like seeing things that are part of an existing site. This is what drove the (admittedly hipster-ish) rise of &amp;#8220;tilde sites&amp;#8221; again a few years ago; a bit of nostalgia for a long time ago. Fortunately, I&amp;#8217;ve also got Cloudflare in front of my site, which alleviates worries I might have had about it dying under load, although check back with me again if that happens to see if it turns out to be true or not. (Also, I&amp;#8217;m &lt;a href="https://twitter.com/lizthegrey/status/1562974331021725696"&gt;considering alternatives to Cloudflare&lt;/a&gt; at the moment&amp;nbsp;too.)&lt;/p&gt;
&lt;h3&gt;So what was annoying and a problem when building an app on the&amp;nbsp;web?&lt;/h3&gt;
&lt;h4&gt;Architecture&lt;/h4&gt;
&lt;p&gt;Firstly, I separated the front and back ends and deployed them in different places. I&amp;#8217;m not all that confident that my hosted site can cope with being hammered, if I&amp;#8217;m honest. This is alleviated somewhat by cloud caching, and hopefully quite a bit more by having a service worker in place which caches almost everything (although see below about that), but a lot of this decision was driven by not wanting to incur a server hit for every visitor every time, as much as possible. This drove at least some of the architectural decisions. The front end is on my site and is plain &lt;span class="caps"&gt;HTML&lt;/span&gt;, &lt;span class="caps"&gt;CSS&lt;/span&gt;, and JavaScript. The back end is not touched when starting the game; it&amp;#8217;s only touched when you &lt;em&gt;finish&lt;/em&gt; a game, in order to submit your score and get back the best score that day to see if you beat that. That back end is written in Deno, and is hosted on &lt;a href="http://fly.io"&gt;fly.io&lt;/a&gt;, who seem pretty cool. (I did look at Deno Deploy, but they don&amp;#8217;t do permanent&amp;nbsp;storage.)&lt;/p&gt;
&lt;p&gt;Part of the reason the back end is a bit of extra work is that it verifies your submitted game to check you aren&amp;#8217;t cheating and lying about your score. This required me to completely reimplement the game code in Deno. Now, you may be saying &amp;#8220;what? the front end game code is in JavaScript and so is the back end? why don&amp;#8217;t they share a library?&amp;#8221; and the answer is, because I didn&amp;#8217;t think of it. So I wrote the front end first and didn&amp;#8217;t separate out the core game management from all the &amp;#8220;animate this stuff with &lt;span class="caps"&gt;CSS&lt;/span&gt;&amp;#8221; bits, because it was a fun weekend project done as a proof of concept. Once I got a bit further into it and realised that I &lt;em&gt;should&lt;/em&gt; have done that&amp;#8230; I didn&amp;#8217;t wanna, because that would have sucked all the fun out of the project like a vampire and meant that I&amp;#8217;d have never done it. So, take this as a lesson: think about whether you want a thing to be popular up front. Not that you&amp;#8217;ll listen to this advice, because I never do&amp;nbsp;either.&lt;/p&gt;
&lt;p&gt;Similarly, this means that there&amp;#8217;s less in the way of analytics, so I don&amp;#8217;t get information about users, or real-time monitoring of popularity. This is because I did not want to add Google Analytics or similar things. No personal data about you ever leaves your device. You&amp;#8217;ll have noticed that there&amp;#8217;s no awful pop-up cookie consent dialogue; this is because I don&amp;#8217;t need one, because I don&amp;#8217;t collect any analytics data about players at all! Guess what, people who find those dialogues annoying (i.e., everyone?) You can tell companies to &lt;em&gt;stop collecting data about you&lt;/em&gt; and then they won&amp;#8217;t need an annoying dialogue! And when they say no&amp;#8230; well, then you&amp;#8217;ll have learned something about how they view you as customers, perhaps. Similarly, when scores are submitted, there&amp;#8217;s no personal information that goes with them. I don&amp;#8217;t even know whether two scores were submitted by the same person; there&amp;#8217;s no unique &lt;span class="caps"&gt;ID&lt;/span&gt; per person or per device or anything. (Technically, the &lt;span class="caps"&gt;IP&lt;/span&gt; is submitted to the server, of course, but I don&amp;#8217;t record it or use it; you&amp;#8217;ll have to take my word for&amp;nbsp;that.)&lt;/p&gt;
&lt;p&gt;This architecture split also partially explains why the game&amp;#8217;s JavaScript-dependent. I know, right? Me, the bloke who wrote &amp;#8220;&lt;a href="https://kryogenix.org/code/browser/everyonehasjs.html"&gt;Everyone has JavaScript, right?&lt;/a&gt;&amp;#8220;, building a thing which requires &lt;span class="caps"&gt;JS&lt;/span&gt; to run? What am I doing? Well, honestly, I don&amp;#8217;t want to incur repeated server hits is the thing. For a real project, something which was critical, then I absolutely would do that; I have the server game simulation, and I could relatively easily have the server pass back a game state along with the &lt;span class="caps"&gt;HTML&lt;/span&gt; which was then submitted. The page is set up to work this way: the board is a &lt;code&gt;&amp;lt;form&amp;gt;&lt;/code&gt;, the things you click on are &lt;code&gt;&amp;lt;button&amp;gt;&lt;/code&gt;s, and so on. But I&amp;#8217;m frightened of it getting really popular and then me getting a large bill for cloud hosting. In this particular situation and this particular project, I&amp;#8217;d rather the thing die than do that. That&amp;#8217;s not how I&amp;#8217;d build something more critical, but&amp;#8230; Farmbound&amp;#8217;s a puzzle game. I&amp;#8217;m &lt;span class="caps"&gt;OK&lt;/span&gt; with it not working, and if I turn out to be wrong about that, I can change that implementation relatively quickly without it being a big problem. It&amp;#8217;s not &lt;em&gt;architected&lt;/em&gt; in a &lt;span class="caps"&gt;JS&lt;/span&gt;-dependent way; it&amp;#8217;s just progressively enhanced that&amp;nbsp;way.&lt;/p&gt;
&lt;h4&gt;iOS&amp;nbsp;browser&lt;/h4&gt;
&lt;p&gt;I had a certain amount of hassle from iOS Safari. Some of this is pretty common &amp;#8212; how do I stop a double-tap zooming in? How do I stop the page overscrolling? &amp;#8212; but most of the &amp;#8220;fixes&amp;#8221; are a combination of experimentation, cargo culting ideas off Stack Overflow, and something akin to wishing on a star. That&amp;#8217;s all pretty irritating, although Safari is hardly alone in this. But there is a separate thing which is iOS Safari specific, which is this: I can&amp;#8217;t sensibly present an &amp;#8220;add this to your home screen&amp;#8221; hint in iOS browsers other than Safari itself. In iOS Safari, I can show a little hint to help people know that they can add Farmbound to their home screen (which of course is delayed until a second game is begun and then goes away for a month if you dismiss it, because hassling your own players is a foolish thing to do). But in &lt;em&gt;non&lt;/em&gt; Safari iOS browsers (which, lest we forget, are still Safari under the covers; see &lt;a href="https://open-web-advocacy.org/"&gt;Open Web Advocacy&lt;/a&gt; if this is a surprise to you or if you don&amp;#8217;t like it), I can&amp;#8217;t sensibly present that hint. Because those non-Safari iOS browsers aren&amp;#8217;t allowed to add web apps to your home screen at all. I can&amp;#8217;t even give people a convenient tap to open Farmbound &lt;em&gt;in&lt;/em&gt; iOS Safari where they &lt;em&gt;can&lt;/em&gt; add the app to their home screen, because there&amp;#8217;s no way of doing that. So, apologies, Chrome iOS or Firefox iOS users and others: you&amp;#8217;ll have to open Farmbound in Safari itself if you want an easy way to come back every day. At least for&amp;nbsp;now.&lt;/p&gt;
&lt;h4&gt;Service&amp;nbsp;workers&lt;/h4&gt;
&lt;p&gt;And finally, and honestly most annoyingly, the service&amp;nbsp;worker.&lt;/p&gt;
&lt;p&gt;Building and debugging and testing a service worker is still &lt;em&gt;so hard&lt;/em&gt;. Working out why this page is cached, or why it isn&amp;#8217;t cached, or why it isn&amp;#8217;t loading, is incredibly baffling and infuriating still, and I just don&amp;#8217;t get it. I tried using &amp;#8220;workbox&amp;#8221;, but that doesn&amp;#8217;t actually explain how to use it properly. In particular, for this use case, a completely static unchanging site, what I want is &amp;#8220;cache this actual page and all its dependencies forever, unless there&amp;#8217;s a change&amp;#8221;. However, all the docs assume that I&amp;#8217;m building an &amp;#8220;app shell&amp;#8221; which then uses &lt;code&gt;fetch()&lt;/code&gt; to get data off the server repeatedly, and so won&amp;#8217;t shut up about &amp;#8220;network first&amp;#8221; and &amp;#8220;cache first, falling back&amp;#8221; and so on rather than the &amp;#8220;just cache it all because it&amp;#8217;s static, and then shut up&amp;#8221; methodology. And getting insight into why a thing loaded or didn&amp;#8217;t is really hard! Sure, also having Cloudflare caching stuff and my browser caching stuff as well really doesn&amp;#8217;t help here. But I am not even slightly convinced that I&amp;#8217;ve done all this correctly, and I don&amp;#8217;t really know how to be better. It&amp;#8217;s too hard,&amp;nbsp;still.&lt;/p&gt;
&lt;h3&gt;Conclusion&lt;/h3&gt;
&lt;p&gt;So that&amp;#8217;s why Farmbound is the way it is. It&amp;#8217;s been interesting to create, and I am very grateful to the Elite Farmbound Testing Team for a great deal of feedback and helping me refine the idea and the play: lots of love to &lt;a href="https://popey.com"&gt;popey&lt;/a&gt;, &lt;a href="https://twitter.com/ralight"&gt;Roger&lt;/a&gt;, &lt;a href="https://twitter.com/simonjbutcher"&gt;Simon&lt;/a&gt;, &lt;a href="https://wimpysworld.com"&gt;Martin&lt;/a&gt;, and &lt;a href="https://barrenfrozenwasteland.com/"&gt;Mark&lt;/a&gt;, as well as Handy Matt and my&amp;nbsp;mum!&lt;/p&gt;
&lt;p&gt;There are still some things I might do in the future (achievements? maybe), and I might change the design (I&amp;#8217;m not great at visual design, as you can tell), and I really wish that I could have done all the animations with Shared Element Transitions because it would have been 312 times easier than the way I did it (a bunch of them add generated content and then web-animations-api move the ::before around, which I thought was quite neat but is also daft by comparison with &lt;span class="caps"&gt;SET&lt;/span&gt;). But I&amp;#8217;m pleased with the implementation, and most importantly it&amp;#8217;s actually fun to play. Getting over a thousand points is really good (although sometimes impossible, on some days), and I don&amp;#8217;t really think the best strategies have been worked out yet. Is it better to make fields and tractors, or not go that far? Is water a boon or an annoyance? I&amp;#8217;d be interested in your thoughts. Go play &lt;a href="https://kryogenix.org/farmbound/"&gt;Farmbound&lt;/a&gt;, and share your results with &lt;a href="https://twitter.com/sil"&gt;me on Twitter&lt;/a&gt;!&lt;/p&gt;</content><category term="General musings"></category></entry><entry><title>Help the CMA help the Web</title><link href="https://www.kryogenix.org/days/2022/06/17/help-the-cma-help-the-web/" rel="alternate"></link><published>2022-06-17T11:33:00+01:00</published><updated>2022-06-17T11:33:00+01:00</updated><author><name>sil</name></author><id>tag:www.kryogenix.org,2022-06-17:/days/2022/06/17/help-the-cma-help-the-web/</id><summary type="html">&lt;p&gt;As has been &lt;a href="https://www.kryogenix.org/days/2021/09/06/talking-to-the-competition-and-markets-authority-about-apple/"&gt;mentioned here before&lt;/a&gt; the &lt;span class="caps"&gt;UK&lt;/span&gt; regulator, the &lt;a href="https://www.gov.uk/government/organisations/competition-and-markets-authority"&gt;Competition and Markets Authority&lt;/a&gt;, are conducting an investigation into mobile phone software ecosystems, and they recently published the results of that investigation in the &lt;a href="https://www.gov.uk/cma-cases/mobile-ecosystems-market-study"&gt;mobile ecosystems market study&lt;/a&gt;. They&amp;#8217;re also focusing in on two particular areas of concern: competition …&lt;/p&gt;</summary><content type="html">&lt;p&gt;As has been &lt;a href="https://www.kryogenix.org/days/2021/09/06/talking-to-the-competition-and-markets-authority-about-apple/"&gt;mentioned here before&lt;/a&gt; the &lt;span class="caps"&gt;UK&lt;/span&gt; regulator, the &lt;a href="https://www.gov.uk/government/organisations/competition-and-markets-authority"&gt;Competition and Markets Authority&lt;/a&gt;, are conducting an investigation into mobile phone software ecosystems, and they recently published the results of that investigation in the &lt;a href="https://www.gov.uk/cma-cases/mobile-ecosystems-market-study"&gt;mobile ecosystems market study&lt;/a&gt;. They&amp;#8217;re also focusing in on two particular areas of concern: competition among mobile browsers, and in cloud gaming services. This is from their &lt;a href="https://www.gov.uk/cma-cases/mobile-browsers-and-cloud-gaming"&gt;consultation document&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
Mobile browsers are a key gateway for users and online content providers to access and distribute content and services over the internet.

Both Apple and Google have very high shares of supply in mobile browsers, and their positions in mobile browser engines are even stronger. Our market study found the competitive constraints faced by Apple and Google from other mobile browsers and browser engines, as well as from desktop browsers and native apps, to be weak, and that there are significant barriers to competition.

One of the key barriers to competition in mobile browser engines appears to be Apple’s requirement that other browsers on its iOS operating system use Apple’s WebKit browser engine. In addition, web compatibility limits browser engine competition on devices that use the Android operating system (where Google allows browser engine choice). These barriers also constitute a barrier to competition in mobile browsers, as they limit the extent of differentiation between browsers (given the importance of browser engines to browser functionality).
&lt;/blockquote&gt;

&lt;p&gt;They go on to suggest things they could potentially do about&amp;nbsp;it:&lt;/p&gt;
&lt;blockquote&gt;
A non-exhaustive list of potential remedies that a market investigation could consider includes:

&lt;ul&gt;
    &lt;li&gt;removing Apple’s restrictions on competing browser engines on iOS&amp;nbsp;devices;&lt;/li&gt;
    &lt;li&gt;mandating access to certain functionality for browsers (including supporting web&amp;nbsp;apps);&lt;/li&gt;
    &lt;li&gt;requiring Apple and Google to provide equal access to functionality through APIs for rival&amp;nbsp;browsers;&lt;/li&gt;
    &lt;li&gt;requirements that make it more straightforward for users to change the default browser within their device&amp;nbsp;settings;&lt;/li&gt;
    &lt;li&gt;choice screens to overcome the distortive effects of pre-installation;&amp;nbsp;and&lt;/li&gt;
    &lt;li&gt;requiring Apple to remove its App Store restrictions on cloud gaming&amp;nbsp;services.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;But, importantly, they want to know what &lt;em&gt;you&lt;/em&gt; think. I&amp;#8217;ve now been part of direct and detailed discussions with the &lt;span class="caps"&gt;CMA&lt;/span&gt; a couple of times as part of &lt;a href="https://open-web-advocacy.org/"&gt;&lt;span class="caps"&gt;OWA&lt;/span&gt;&lt;/a&gt;, and I&amp;#8217;m pretty impressed with them as a group; they&amp;#8217;re engaged and interested in the issues here, and knowledgeable. We&amp;#8217;re not having to educate them in what the web is. The &lt;span class="caps"&gt;UK&lt;/span&gt;&amp;#8217;s potential digital future is not all good (and &lt;a href="https://webdevlaw.uk/2022/06/17/data-reform-bill-cookie-popups/"&gt;some of the &lt;span class="caps"&gt;UK&lt;/span&gt;&amp;#8217;s digital future looks like it could be rather bad indeed&lt;/a&gt;!) but the &lt;span class="caps"&gt;CMA&lt;/span&gt;&amp;#8217;s work is a bright spot, and it&amp;#8217;s important that we support the smart people in tech government, lest we get the other&amp;nbsp;sort.&lt;/p&gt;
&lt;p&gt;So, please, take a little time to write down what you think about all this. The &lt;span class="caps"&gt;CMA&lt;/span&gt; are governmental: they have plenty of access to windy bloviations about the philosophy of tech, or speculation about what might happen from &amp;#8220;influencers&amp;#8221;. What&amp;#8217;s important, what they need, is real comments from real people actually affected by all this stuff in some way, either positively or negatively. Tell they whether you think they&amp;#8217;ve got it right or wrong; what you think the remedies should be; which problems you&amp;#8217;ve run into and how they affected your projects or your business. Earlier in this process we put out calls for people to send in their thoughts and many of you responded, and that was really helpful! We can do more this time, when it&amp;#8217;s about browsers and the Web directly, I&amp;nbsp;hope. &lt;/p&gt;
&lt;p&gt;If you feel as I do then you may find &lt;a href="https://assets.publishing.service.gov.uk/media/622a2ee3e90e070ed1cf09b0/Open_Web_Advocacy_-_responses.pdf"&gt;&lt;span class="caps"&gt;OWA&lt;/span&gt;&amp;#8217;s response to the &lt;span class="caps"&gt;CMA&lt;/span&gt;&amp;#8217;s interim report&lt;/a&gt; to be useful reading, and also the &lt;a href="https://twitter.com/OpenWebAdvocacy/status/1537676458478702594"&gt;whole &lt;span class="caps"&gt;OWA&lt;/span&gt; twitter thread on this&lt;/a&gt;, but the most important thing is that you send in your thoughts in your own words. Maybe what you think is that everything is great as it is! It&amp;#8217;s still worth speaking up. It is only a good thing if the &lt;span class="caps"&gt;CMA&lt;/span&gt; have more views from actual people on this, regardless of what those views are. These actions that the &lt;span class="caps"&gt;CMA&lt;/span&gt; could take here could make a big difference to how competition on the Web proceeds, and I imagine everyone who builds for the web has thoughts on what they want to happen there. Also there will be thoughts on what the web should be from quite a few people who use the web, which is to say: everybody. And everybody should put their thoughts&amp;nbsp;in.&lt;/p&gt;
&lt;p&gt;So here&amp;#8217;s the quick guide:
&lt;ol&gt;
    &lt;li&gt;You only have until July&amp;nbsp;22nd&lt;/li&gt;
    &lt;li&gt;Read &lt;a href="https://www.gov.uk/cma-cases/mobile-browsers-and-cloud-gaming"&gt;Mobile browsers and cloud gaming&lt;/a&gt; from the &lt;span class="caps"&gt;CMA&lt;/span&gt;&lt;/li&gt;
    &lt;li&gt;Decide for yourself:
        &lt;ul&gt;
            &lt;li&gt;How these issues have personally affected you or your&amp;nbsp;business&lt;/li&gt;
            &lt;li&gt;How you think changes could affect the industry and&amp;nbsp;consumers&lt;/li&gt;
            &lt;li&gt;What interventions you think are&amp;nbsp;necessary&lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;Email your response to&amp;nbsp;browsersandcloud@cma.gov.uk&lt;/li&gt;
&lt;/ol&gt;&lt;/p&gt;
&lt;p&gt;Go to it. You have a month. It&amp;#8217;s a nice sunny day in the &lt;span class="caps"&gt;UK&lt;/span&gt;&amp;#8230; why not read the report over lunchtime and then have a&amp;nbsp;think?&lt;/p&gt;</content><category term="General musings"></category></entry><entry><title>Solo solitaire dungeon crawl card game</title><link href="https://www.kryogenix.org/days/2022/03/13/solo-solitaire-dungeon-crawl-card-game/" rel="alternate"></link><published>2022-03-13T22:38:00+00:00</published><updated>2022-03-13T22:38:00+00:00</updated><author><name>sil</name></author><id>tag:www.kryogenix.org,2022-03-13:/days/2022/03/13/solo-solitaire-dungeon-crawl-card-game/</id><summary type="html">&lt;p&gt;I invented a solitaire card game. I was thinking about solo roleplaying, and the &lt;a href="https://peachgardengames.itch.io/carta-srd"&gt;Carta &lt;span class="caps"&gt;SRD&lt;/span&gt;&lt;/a&gt; stuff I did for &lt;a href="https://stuartlangridge.itch.io/borealis"&gt;Borealis&lt;/a&gt;, and I was thinking about the idea of the cards forming the board you&amp;#8217;re playing on and also being the randomness tool. Then I came up with the …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I invented a solitaire card game. I was thinking about solo roleplaying, and the &lt;a href="https://peachgardengames.itch.io/carta-srd"&gt;Carta &lt;span class="caps"&gt;SRD&lt;/span&gt;&lt;/a&gt; stuff I did for &lt;a href="https://stuartlangridge.itch.io/borealis"&gt;Borealis&lt;/a&gt;, and I was thinking about the idea of the cards forming the board you&amp;#8217;re playing on and also being the randomness tool. Then I came up with the central mechanic of the branching tree, and the whole game sorta fell into place, and now I&amp;#8217;ve been experimenting with it for a day so I want to write it&amp;nbsp;down.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m not sure about the framing device; originally it was a dungeon crawl, but since it&amp;#8217;s basically &amp;#8220;have a big series of battles&amp;#8221; I&amp;#8217;m a bit uncomfortable with that story since it&amp;#8217;s very murder-y. So maybe it&amp;#8217;s a heist where you&amp;#8217;re defeating many traps to steal the big diamond from a rich guy&amp;#8217;s booby-trapped hoard? Not sure, suggestions&amp;nbsp;welcomed.&lt;/p&gt;
&lt;h2&gt;The&amp;nbsp;game&lt;/h2&gt;
&lt;p&gt;Required: a pack of cards. Regular 52-card deck. You don&amp;#8217;t need&amp;nbsp;jokers.&lt;/p&gt;
&lt;h3&gt;Setup&lt;/h3&gt;
&lt;p&gt;Remove the Ace of Spades from the deck and place it in front of you, face up, on the table. This is where you start; the entrance to the dungeon.
Deal four cards face down vertically above it in a line.
Above that, place the King of Diamonds, face up, so you have six cards in a vertical line, K♦ at the top, 4 face-down cards, A♠ at the bottom. The K♦ is the target, the thing you&amp;#8217;re trying to get to (it is treasure, because it is the king, do you see, of diamonds! get it? it&amp;#8217;s the &lt;em&gt;biggest&lt;/em&gt; diamond). Now return the four face-down cards to the deck and shuffle the deck; this is to ensure that there are exactly four card lengths between A♠ and K♦.
Deal one card, face up, over to the left. This is your &lt;span class="caps"&gt;SKILL&lt;/span&gt; score. Its suit is not relevant; its value is the important number. Ace is 1, &lt;span class="caps"&gt;JQK&lt;/span&gt; are 11, 12, 13. Higher is&amp;nbsp;better.&lt;/p&gt;
&lt;h3&gt;The play:&amp;nbsp;basic&lt;/h3&gt;
&lt;p&gt;In each round, you confront a monster. Deal one card face up, to the right, which represents the monster, and the monster&amp;#8217;s &lt;span class="caps"&gt;SKILL&lt;/span&gt; score (A=1, 2=2,&amp;nbsp;K=13).&lt;/p&gt;
&lt;p&gt;Deal three cards face down: these are the monster&amp;#8217;s attacks. Deal yourself three cards. Now turn the monster&amp;#8217;s cards over. You now pair your cards against the monster&amp;#8217;s, in whichever order you please, so there are three pairs. Your score in each pair is your &lt;span class="caps"&gt;SKILL&lt;/span&gt; plus your dealt card; the monster&amp;#8217;s score in each pair is its &lt;span class="caps"&gt;SKILL&lt;/span&gt; plus its dealt&amp;nbsp;card.&lt;/p&gt;
&lt;p&gt;For each pair where your score is higher than the monster&amp;#8217;s, you get a point; for each where the monster wins, you lose a point; a tie scores 0. This means that you will have a score between 3 and -3 for the&amp;nbsp;round.&lt;/p&gt;
&lt;p&gt;An example: imagine that you have a &lt;span class="caps"&gt;SKILL&lt;/span&gt; of 7, and you deal the 9♦ as the monster. This means this monster has a &lt;span class="caps"&gt;SKILL&lt;/span&gt; of 9. You then deal three cards for monster attacks; 4♥, J♥, 6♣. You deal yourself three cards: 2♣, 7♦, Q♣. So you elect to pair them as&amp;nbsp;follows:&lt;/p&gt;
&lt;table&gt;
    &lt;tr&gt;&lt;th&gt;monster&lt;/th&gt;&lt;th&gt;you&lt;/th&gt;&lt;th&gt;result&lt;/th&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;4♥ + &lt;span class="caps"&gt;SKILL&lt;/span&gt; 9 = 13&lt;/td&gt;&lt;td&gt;7♦ + &lt;span class="caps"&gt;SKILL&lt;/span&gt; 7 = 14&lt;/td&gt;&lt;td&gt;we win! +1&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;J♥ (11) + &lt;span class="caps"&gt;SKILL&lt;/span&gt; 9 = 20&lt;/td&gt;&lt;td&gt;2♣ + &lt;span class="caps"&gt;SKILL&lt;/span&gt; 7 = 9&lt;/td&gt;&lt;td&gt;big loss: -1&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;6♣ + &lt;span class="caps"&gt;SKILL&lt;/span&gt; 9 = 15&lt;/td&gt;&lt;td&gt;Q♣ (12) + &lt;span class="caps"&gt;SKILL&lt;/span&gt; 7 = 19&lt;/td&gt;&lt;td&gt;we win! +1&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;

&lt;p&gt;So that&amp;#8217;s an overall score of +2 this round: you won the round and defeated the&amp;nbsp;monster!&lt;/p&gt;
&lt;p&gt;If your score for the round is &lt;em&gt;positive&lt;/em&gt;, then next round when you deal the card for the monster, you can deal this many &lt;em&gt;extra&lt;/em&gt; cards and choose the monster you want from them. (So since we won with +2, next round we deal the next three cards out and choose the one we want to be the monster. The other two cards are returned to the pack, which is shuffled.) If your score is &lt;em&gt;negative&lt;/em&gt;, then you have to remove that many cards from the dungeon (which will be explained shortly). (The Ace of Spades always stays in&amp;nbsp;place.)&lt;/p&gt;
&lt;p&gt;Return the monster attack and your attack cards to the deck and shuffle it ready for the next round. If your round score was negative or zero, or if the monster was a King, then put the monster card in the discard pile. If your score was &lt;em&gt;positive&lt;/em&gt;, then add the monster card to the&amp;nbsp;dungeon.&lt;/p&gt;
&lt;h3&gt;Adding to the&amp;nbsp;dungeon&lt;/h3&gt;
&lt;p&gt;To add a card to the dungeon, it must be touching the last card that was added to the dungeon (or the Ace of Spades, if no card has yet been added). Rotate the card so that its orientation is the same as the card&amp;#8217;s value, on a clock face. So a Queen (value 12) is placed vertically. A 3 is placed horizontally. An Ace is placed pointing diagonally up and to the right. This should be at 30 degrees, but you can eyeball it; don&amp;#8217;t get the protractor out. Remember, it must be touching or overlapping the last card that was added. In this way, the path through the dungeon grows. The goal is to have the path reach the King of Diamonds; if there is a continuous path from A♠ to K♦ then you have&amp;nbsp;won!&lt;/p&gt;
&lt;figure&gt;
    &lt;figcaption&gt;
        &lt;ol&gt;
            &lt;li&gt;The&amp;nbsp;setup&lt;/li&gt;
            &lt;li&gt;a 3 is placed, touching the Ace of Spades, and pointing in the direction of a 3 on a&amp;nbsp;clock&lt;/li&gt;
            &lt;li&gt;an 8 is placed, touching the 3 (because the 3 was the last added card). Note that it needs to
            point &amp;#8220;downwards&amp;#8221; towards an 8 on a clock&amp;nbsp;face&lt;/li&gt;
            &lt;li&gt;a Queen is placed, pointing upwards towards the&amp;nbsp;12&lt;/li&gt;
        &lt;/ol&gt;
    &lt;/figcaption&gt;
    &lt;img src="https://kryogenix.org/images/2022-card-game-steps.png" alt=""&gt;
&lt;/figure&gt;

&lt;h3&gt;Optional rules, ramblings, and&amp;nbsp;clarifications&lt;/h3&gt;
&lt;p&gt;That&amp;#8217;s the game. Build the dungeon turn by turn, see if you can obtain the treasure, the king of diamonds. Here are some extra thoughts, possible extra rules, and questions that I have which I haven&amp;#8217;t yet worked out answers&amp;nbsp;for.&lt;/p&gt;
&lt;h4&gt;&lt;span class="dquo"&gt;&amp;#8220;&lt;/span&gt;Special&amp;#8221; cards: armour and&amp;nbsp;weapons&lt;/h4&gt;
&lt;p&gt;It would be nice to add a bit more skill and planning to the game; there&amp;#8217;s not a huge amount of agency. So here&amp;#8217;s the first optional rule, about armour and weapons. A monster card which is a Club is potentially a weapon. If you deal a monster card that&amp;#8217;s a Club, then you can elect to treat it as a weapon instead and put it in your stash. When you have weapons in your stash, you can choose to add the stored weapon to any one attack, and it adds its rank to your score for that attack. (So if you have &lt;span class="caps"&gt;SKILL&lt;/span&gt; of 7, and you play a 3 for an attack, and you have a 4♣ stored as a weapon, then you can play that 4 as well for a total score of 14, not 10.)
Similarly, a monster card that&amp;#8217;s a Spade can be treated as armour. If you have armour, the next attack you lose will become a tie. So if your score for a round would be -2 (you lost two attacks and tied one) but you have an armour card then you would discard your armour card and that score becomes -1 (one loss, two ties).
Clubs and Spades used this way go into the discard pile, not back into the&amp;nbsp;pack.&lt;/p&gt;
&lt;p&gt;This is an optional rule becuase I&amp;#8217;m not sure about the balancing of it. In particular, when do you get to add a weapon card? Should you have to add a weapon &lt;em&gt;before&lt;/em&gt; the monster attacks are turned over, so it&amp;#8217;s a bit of a gamble? Or can you add it when you know whether it&amp;#8217;ll win or not? (If yes, then everyone holds weapons until they know they&amp;#8217;ll make the difference between a win and a loss, which doesn&amp;#8217;t require any skill or judgement to&amp;nbsp;do.)&lt;/p&gt;
&lt;h4&gt;The length of the&amp;nbsp;dungeon&lt;/h4&gt;
&lt;p&gt;The distance of 4 cards is based on some rough simulations I ran which suggest that with a 4 card distance a player should win about 5% of the time, which feels about right for a difficult solitaire game; you want to not win that often, but not so infrequently that you doubt that winning is possible. But changing the distance to 3 cards may make a big difference there (it should give a win about one time in 10, in the&amp;nbsp;simulation).&lt;/p&gt;
&lt;h4&gt;Removing&amp;nbsp;cards&lt;/h4&gt;
&lt;p&gt;Question: should it be allowed to delete cards in the middle of the path if you lose, thus leaving a gap in the path. You shouldn’t be able to win by reaching the king of diamonds if there&amp;#8217;s a gap, of course, but having gaps mid-game seems ok. However, then you have to be able to add cards to fill the gap up, which seems very difficult. This is because we have to require that newly added cards are added to the end of the path, otherwise everyone makes all &amp;#8220;negative&amp;#8221; cards simply build by touch the Ace of Spades and so we never actually go&amp;nbsp;backwards.&lt;/p&gt;
&lt;h4&gt;Angle of&amp;nbsp;cards&lt;/h4&gt;
&lt;p&gt;Cards are reversible. So an 8, which should be a negative card, is actually the same as a 2, which is positive. What&amp;#8217;s the best way to enforce this? When considering the &amp;#8220;clock face&amp;#8221; for orientation, does the centre of the clock face have to be in the centre of the most recent&amp;nbsp;card?&lt;/p&gt;
&lt;p&gt;Also, kings not being able to add to the path seems a bit arbitrary. Problem is that there aren&amp;#8217;t 13 hours on a clock. This can obviously be justified in-universe (maybe kings are boss monsters or something?) but it feels a bit of a&amp;nbsp;wart.&lt;/p&gt;
&lt;h3&gt;And that&amp;#8217;s&amp;nbsp;it&lt;/h3&gt;
&lt;p&gt;That&amp;#8217;s it. Game idea written down, which should hopefully get it out of my head. If anyone else plays it, or has thoughts on the rules, on improvements, or on a theme and setting, I&amp;#8217;d love to hear them; @sil on Twitter is probably the easiest&amp;nbsp;way.&lt;/p&gt;</content><category term="General musings"></category></entry><entry><title>Contact the CMA about the browser ecosystem</title><link href="https://www.kryogenix.org/days/2022/02/07/contact-the-cma-about-the-browser-ecosystem/" rel="alternate"></link><published>2022-02-07T09:00:00+00:00</published><updated>2022-02-07T09:00:00+00:00</updated><author><name>sil</name></author><id>tag:www.kryogenix.org,2022-02-07:/days/2022/02/07/contact-the-cma-about-the-browser-ecosystem/</id><summary type="html">&lt;p&gt;The &lt;span class="caps"&gt;CMA&lt;/span&gt;, the &lt;span class="caps"&gt;UK&lt;/span&gt;&amp;#8217;s regulator of business competition and markets, what the &lt;span class="caps"&gt;USA&lt;/span&gt; calls &amp;#8220;antitrust&amp;#8221;, is conducting a study into mobile platforms and the mobile ecosystem. You may recall that I and others &lt;a href="https://www.kryogenix.org/days/2021/09/06/talking-to-the-competition-and-markets-authority-about-apple/"&gt;presented to the &lt;span class="caps"&gt;CMA&lt;/span&gt; in September 2021 about Apple&amp;#8217;s browser ban&lt;/a&gt;. They have invited public …&lt;/p&gt;</summary><content type="html">&lt;p&gt;The &lt;span class="caps"&gt;CMA&lt;/span&gt;, the &lt;span class="caps"&gt;UK&lt;/span&gt;&amp;#8217;s regulator of business competition and markets, what the &lt;span class="caps"&gt;USA&lt;/span&gt; calls &amp;#8220;antitrust&amp;#8221;, is conducting a study into mobile platforms and the mobile ecosystem. You may recall that I and others &lt;a href="https://www.kryogenix.org/days/2021/09/06/talking-to-the-competition-and-markets-authority-about-apple/"&gt;presented to the &lt;span class="caps"&gt;CMA&lt;/span&gt; in September 2021 about Apple&amp;#8217;s browser ban&lt;/a&gt;. They have invited public comments, and they honestly are eager to hear from people: not solely big players with big legal submissions, but real web developers. But the time is nigh: &lt;strong&gt;they need to hear from you by 5pm &lt;span class="caps"&gt;UK&lt;/span&gt; time today, Monday 7th February 2022&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Bruce Lawson, who I presented with, has &lt;a href="https://brucelawson.co.uk/2021/on-the-cmas-interim-report-on-mobile-ecosystems/"&gt;summarised the &lt;span class="caps"&gt;CMA&lt;/span&gt;&amp;#8217;s interim report&lt;/a&gt;. What&amp;#8217;s important for our perspectives today is how they feel about mobile browsers. In particular, they call out how on Apple&amp;#8217;s iOS devices, there is only one browser: Safari. While other browser names do exist &amp;#8212; Chrome, Firefox, and the like &amp;#8212; they are all Safari dressed up in different clothes. It&amp;#8217;s been surprising how many developers didn&amp;#8217;t realise this: check out the Twitter hashtag &lt;a href="https://twitter.com/search?q=%23AppleBrowserBan"&gt;#AppleBrowserBan&lt;/a&gt; for more on that. So the &lt;span class="caps"&gt;CMA&lt;/span&gt; are looking for feedback and comments from anyone in the &lt;span class="caps"&gt;UK&lt;/span&gt; or who does any business in the &lt;span class="caps"&gt;UK&lt;/span&gt;, on how you feel about the mobile ecosystem of apps and browsers in general, and how you feel about the browser landscape specifically. Did you decide to use the web, or not use the web, on mobile devices in a way that felt like you had no choice? Do you feel like web apps are a match for native apps or&amp;nbsp;not?&lt;/p&gt;
&lt;p&gt;If you&amp;#8217;re a web developer, you may have already been part of, or encountered, some parts of this discussion on social media already. And that may mean that you&amp;#8217;re a bit tired of it, because it can be quite bad-tempered in places, and because there&amp;#8217;s an awful lot of disingenuous argument. People on or closely allied with browser vendors have a very bad habit of wholly ignoring problems in their own camp and lauding problems in others: this is not of course specific to browser developers (everybody does this in arguments!) but it&amp;#8217;s pretty annoying. Chrome defenders generally divert the conversation away from privacy, data collection, and Google&amp;#8217;s desire to inhale all your data from everywhere: I&amp;#8217;ve asked in the past about Chrome integrating with the platform it&amp;#8217;s on and have been unembarrassedly told that &amp;#8220;Chrome &lt;em&gt;is&lt;/em&gt; the platform&amp;#8221;, which I&amp;#8217;m sure sounds great if you&amp;#8217;re Google and maybe not for everyone else. And Safari developers tend to pretend to be deaf when asked questions they don&amp;#8217;t like, and then complain that they get no engagement after haughtily refusing any that isn&amp;#8217;t on their own terms. Yes, this is all very irritating, I agree with you. But here&amp;#8217;s the thing: &lt;strong&gt;you do not have to take a side&lt;/strong&gt;. This does not have to be tribal. The &lt;span class="caps"&gt;CMA&lt;/span&gt; want your opinions by the end of today, and you don&amp;#8217;t have to feel like you&amp;#8217;re striking a blow in the browser wars or a blow for privacy or a blow against native by doing so. The thing that every survey and every poll always flags is that they only hear from people with an axe to grind. You don&amp;#8217;t have to feel like you&amp;#8217;re defending one side or another to have an opinion on how you think that mobile platforms treat the web, and how you think they could do that differently. Be on the side of the web: that&amp;#8217;s the right side to be on, because there&amp;#8217;s no other side. (Nobody claims to be &lt;em&gt;against&lt;/em&gt; the web &amp;#8212; nobody with any sense or knowledge of history, anyway &amp;#8212; so you know it&amp;#8217;s a good place to&amp;nbsp;be.)&lt;/p&gt;
&lt;p&gt;Bruce has very excellently provided &lt;a href="https://brucelawson.co.uk/2022/sample-emails-to-cma-about-the-apple-browser-ban/"&gt;some sample responses to the &lt;span class="caps"&gt;CMA&lt;/span&gt;&lt;/a&gt; along with guidance about points you may want to cover or include, and you should definitely read that. But get your skates on: responses have to be in&amp;nbsp;today.&lt;/p&gt;
&lt;p&gt;Send email to &lt;strong&gt;mobileecosystems@cma.gov.uk&lt;/strong&gt;. And do post your response publicly if you can, so others can see it, learn from it, and see that you&amp;#8217;ve done&amp;nbsp;it.&lt;/p&gt;</content><category term="General musings"></category></entry><entry><title>The Forty-Sixers Club</title><link href="https://www.kryogenix.org/days/2022/01/30/the-forty-sixers-club/" rel="alternate"></link><published>2022-01-30T17:57:00+00:00</published><updated>2022-01-30T17:57:00+00:00</updated><author><name>sil</name></author><id>tag:www.kryogenix.org,2022-01-30:/days/2022/01/30/the-forty-sixers-club/</id><summary type="html">&lt;blockquote&gt;The &lt;a href="https://en.wikipedia.org/wiki/Adirondack_Forty-Sixers"&gt;Adirondack Forty-Sixers&lt;/a&gt; are an organization of hikers who have climbed all forty-six of the traditionally recognized High Peaks of the Adirondack Mountains. They are often referred to just as 46ers.&lt;/blockquote&gt;

&lt;p&gt;Hi, I&amp;#8217;m Stuart. I&amp;#8217;m a 0er. But I am forty six, so that&amp;#8217;s nearly the&amp;nbsp;same …&lt;/p&gt;</summary><content type="html">&lt;blockquote&gt;The &lt;a href="https://en.wikipedia.org/wiki/Adirondack_Forty-Sixers"&gt;Adirondack Forty-Sixers&lt;/a&gt; are an organization of hikers who have climbed all forty-six of the traditionally recognized High Peaks of the Adirondack Mountains. They are often referred to just as 46ers.&lt;/blockquote&gt;

&lt;p&gt;Hi, I&amp;#8217;m Stuart. I&amp;#8217;m a 0er. But I am forty six, so that&amp;#8217;s nearly the&amp;nbsp;same.&lt;/p&gt;
&lt;p&gt;The number 46 is boring, if I&amp;#8217;m honest, but quite frankly I could do with a boring year. This last one has been troublesome &amp;#8212; not just for me, for everybody, of course. Wikipedia suggests that 46 is a centred triangular number and the sum of the totient function for the first twelve integers, which is such a yawnarama that I think Ramanujan&amp;#8217;s thing about the first dull number might actually be about 46. (The people&amp;#8217;s republic of encyclopedia does then drop the bomb that 46 is the molar mass of ethanol, mind. Someone&amp;#8217;s been paying&amp;nbsp;attention.)&lt;/p&gt;
&lt;p&gt;This is the twentieth year I&amp;#8217;ve been wishing myself happy birthday on the web, which is nice (&lt;a href="https://kryogenix.org/days/2003/01/30/revolution/"&gt;2003&lt;/a&gt; up until &lt;a href="https://kryogenix.org/days/2003/01/30/revolution/"&gt;last year&lt;/a&gt; and in between). The last few years have shown a worrying trend of, well, worrying about stuff, and this year is no different. Things kinda got worse generally, didn&amp;#8217;t&amp;nbsp;they?&lt;/p&gt;
&lt;p&gt;I spent today talking to the family, which was good. It wasn&amp;#8217;t quite the weekend we were all hoping for, but it was still good. I did really hope I&amp;#8217;d get to see my dad today. Plus I have cool new shirts and a marzipan thing which I&amp;#8217;m going to eat! And I got to have drinks with friends before going away for the weekend and that was also cool and they are excellent, thank you for that, especially when cakes showed up. Soon I shall get back to playing with the nRF52840 &lt;span class="caps"&gt;PCA10059&lt;/span&gt; dongle single-board computer that Bill bought me for our Secret Project, or possibly just my new iPhone 13 mini. All quite exciting stuff. There&amp;#8217;s D&amp;amp;D to plan, escape rooms to visit, holidays to sort out, restaurants to go to with my parents and my daughter. Pizza to eat, doubtless. Things will be back to normal soon. Now I have to do a bit of writing. But happy birthday to&amp;nbsp;me.&lt;/p&gt;</content><category term="General musings"></category></entry><entry><title>Grandma</title><link href="https://www.kryogenix.org/days/2021/10/07/grandma/" rel="alternate"></link><published>2021-10-07T22:54:00+01:00</published><updated>2021-10-07T22:54:00+01:00</updated><author><name>sil</name></author><id>tag:www.kryogenix.org,2021-10-07:/days/2021/10/07/grandma/</id><summary type="html">&lt;p&gt;A couple of weeks ago, my grandma&amp;nbsp;died.&lt;/p&gt;
&lt;p&gt;This was not wholly unexpected, and at the same time it was completely unexpected. I should probably explain&amp;nbsp;that.&lt;/p&gt;
&lt;p&gt;She was ninety, which is a fair age for anyone, but her mother (my great-grandmother) lived to be even older. What&amp;#8217;s different …&lt;/p&gt;</summary><content type="html">&lt;p&gt;A couple of weeks ago, my grandma&amp;nbsp;died.&lt;/p&gt;
&lt;p&gt;This was not wholly unexpected, and at the same time it was completely unexpected. I should probably explain&amp;nbsp;that.&lt;/p&gt;
&lt;p&gt;She was ninety, which is a fair age for anyone, but her mother (my great-grandmother) lived to be even older. What&amp;#8217;s different is that nobody &lt;em&gt;knew&lt;/em&gt; she was ninety, other than us. Most of her friends were in their mid-seventies. Now, you might be thinking, &lt;span class="caps"&gt;LOL&lt;/span&gt;, old, but this is like you in your mid-forties hanging out with someone who&amp;#8217;s 30, or you in your late twenties hanging out with someone who&amp;#8217;s 13, or you at eighteen hanging out with someone who&amp;#8217;s still learning what letters are. Gaps get narrower as we get older, but the thing that most surprised me was that all her friends were themselves surprised at the age she was. &lt;em&gt;She can&amp;#8217;t have been that age,&lt;/em&gt; they said when we told them, and buried in there is a subtle compliment: &lt;em&gt;she was like us, and we&amp;#8217;re so much younger, and when we&amp;#8217;re that much older we won&amp;#8217;t be like&amp;nbsp;her.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;No. No, you won&amp;#8217;t be like my&amp;nbsp;grandma.&lt;/p&gt;
&lt;p&gt;I don&amp;#8217;t want to talk much about the last few weeks. We, my mum and me, we flew to Ireland in the middle of the night, we sorted out her house and her garden and her affairs and her funeral and her friends and her family, and we came home. All I want to say about it is that, and all I want to say about her is probably best said in the eulogy I wrote and spoke for her death, and I don&amp;#8217;t want to say it&amp;nbsp;again.&lt;/p&gt;
&lt;p&gt;But (and this is where people in my family should tune out) I thought I&amp;#8217;d talk about the website I made for her. Because of &lt;em&gt;course&lt;/em&gt; I made a website. You know how some people throw themselves into work to dull the pain when something terrible happens to the people they love? I&amp;#8217;m assuming that if you were a metalworker in 1950 and you wanted to handle your grief that a bunch of people got a bunch of metal stuff that you wouldn&amp;#8217;t ordinarily have made. Well, I am no metalworker; I build the open web, and I perform, on conference stages or for public perception. So I made a website for my grandma; something that will maybe live on beyond her and maybe say what we thought about&amp;nbsp;her.&lt;/p&gt;
&lt;p&gt;Firstly I should say: it&amp;#8217;s at &lt;a href="https://kryogenix.org/nell"&gt;kryogenix.org/nell&lt;/a&gt; because her name was Nell and I made it. But neither of those things are really true. Her name was Ellen, and what I did was write down what we all said and what we all did to say goodbye. I wanted to capture the words we said while they were still fresh in my memory, but more while &lt;em&gt;how I felt&lt;/em&gt; was fresh in my memory. Because in time the cuts will become barely noticeable scars and I&amp;#8217;ll be able to think of her not being here without stopping myself crying, and I don&amp;#8217;t &lt;em&gt;want&lt;/em&gt; to forget. I don&amp;#8217;t want to lose it amongst memories of laughter and houses and lights. So I wrote down what we all said right now while I can still feel the hurt of it like fingernails, so maybe I won&amp;#8217;t let it fade&amp;nbsp;away.&lt;/p&gt;
&lt;p&gt;I want to write some things about the web, but that&amp;#8217;s not for this post. This post is to say: goodbye,&amp;nbsp;Grandma.&lt;/p&gt;
&lt;p&gt;Goodbye, Grandma. I tried to make a thing that would make people think of you when they looked at it. I wanted people to think of memories of you when they read it. So I made a thing of memories of you, and I spoke about memories of you, and maybe people who knew you will remember you and people who didn&amp;#8217;t know you will learn about you from what we all&amp;nbsp;said.&lt;/p&gt;
&lt;p&gt;Goodbye,&amp;nbsp;Grandma.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://kryogenix.org/nell"&gt;kryogenix.org/nell&lt;/a&gt;&lt;/p&gt;</content><category term="General musings"></category></entry></feed>